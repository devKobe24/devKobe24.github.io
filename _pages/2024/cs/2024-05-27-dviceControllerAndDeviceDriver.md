---
title: "💾 [CS] 장치 컨트롤러와 장치 드라이버"
tags:
    - CS
date: "2024-05-27"
thumbnail: "/assets/img/thumbnail/cs.jpeg"
---

# 1️⃣ 장치 컨트롤러와 장치 드라이버.

## 1️⃣ 장치 컨트롤러.

입출력장치는 CPU, 메모리보다 다루기가 더 까다롭습니다.

여기에는 크게 두 가지 이유가 있습니다.

### 첫째, 입출력장치에는 종류가 너무나도 많습니다.

키보드, 모니터, USB 메모리, CD-ROM, SSD, 마우스, 스피커, 프린터 등 매우 많습니다.

장치가 이렇게 다양하면 자연스레 장치마다 속도, 데이터 전송 형식 등도 다양합니다.

따라서 다양한 입출력장치와 정보를 주고받는 방식을 규격화하기가 어렵습니다.

이는 마치 CPU와 메모리는 한국어를 사용하는데, 프린터는 영어, 스피커는 일본어, 모니터는 중국어를 사용하는 상황과 같습니다.

### 둘째, 일반적으로 CPU와 메모리의 데이터 전송률은 높지만 입출력장치의 데이터 전송률은 낮습니다.

여기서 **전송률(transfer rate)** 이란 데이터를 얼마나 빨리 교환할 수 있는지를 나타내는 지표입니다.

CPU와 메모리처럼 전송률이 높은 장치는 1초에도 수많은 데이터를 주고받을 수 있지만, 키보드나 마우스와 같은 상대적으로 전송률이 낮은 장치는 같은 시간 동안 데이터를 조금씩만 주고받을 수 있습니다.

전송률의 차이는 CPU와 메모리, 입출력 장치간의 통신을 어렵게 합니다.

### 장치 컨트롤러(Derive Controller)

물론 어떤 입출력장치는 CPU나 메모리보다 전송률이 높은 경우도 있습니다.

하지만 결과적으로 CPU나 메모리와 전송률이 비슷하지 않기 때문에 같은 어려움을 겪게 됩니다.

이와 같은 이유로 입출력장치는 컴퓨터에 직접 연결되지 않고 **장치 컨트롤러(Drive Controller)** 라는 하드웨어를 통해 연결됩니다.

장치 컨트롤러는 **입출력 제어기(I/O Controller)**, **입출력 모듈(I/O Module)** 등으로 다양하게 불립니다.

모든 입출력장치는 각자의 장치 컨트롤러를 통해 컴퓨터 내부와 정보를 주고받고, 장치 컨트롤러는 하나 이상의 입출력장치와 연결되어 있습니다.

예를 들어 하드 디스크 또한 장치 컨트롤러가 있습니다.

## 2️⃣ 장치 컨트롤러의 역할.

장치 컨트롤러는 대표적으로 다음과 같은 역할을 통해 앞에서 언급한 문제들을 해결합니다.

- CPU와 입풀력장치 간의 통신 중개
- 오류 검출
- 데이터 버퍼링

입풀력장치 종류가 많이 정보 규격롸가 어려웠던 문제는 장치 컨트롤러가 일종의 번역가 역할을 함으로써 해결할 수 있습니다.

그 과정에서 장치 컨트롤러는 자신과 연결된 입출력장치에 문제는 없는지 오류를 검출하기도 합니다.

장치 컨트롤러의 세 번째 기능인 **데이터 버퍼링**은 무엇일까요?

**버퍼링(buffering)** 이란 전송률이 높은 장치와 낮은 장치 사이에 주고받는 데이터를 **버퍼(buffer)** 라는 임시 저장 공간에 저장하여 전송률을 비슷하게 맞추는 방법입니다.

쉽게 말해 버퍼링은 '버퍼에 데이터를 조금씩 모았다가 한꺼번에 내보내거나, 데이터를 한 번에 많이 받아 조금씩 내보내는 방법'이라고 보면 됩니다.

즉, 장치 컨트롤러는 일반적으로 전송률이 높은 CPU와 일반적으로 전송률이 낮은 입출력장치와의 전송률 차이를 데이터 버퍼일으로 완화합니다.

## 3️⃣ 장치 컨트롤러의 내부 구조.

이번에는 장치 컨트롤러의 간략화된 내부 구조를 살펴봅시다.

장치 컨트롤러 내부는 아래와 같습니다.

실제로는 이보다 복잡하지만, 기억해야 하는 것은 **데이터 레지스터(data register)** 와 **상태 레지스터(status register)**, **제어 레지스터(control register)** 세 가지 입니다.

<img src = "https://github.com/devKobe24/images/blob/main/%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%B3%E1%84%85%E1%85%A9%E1%86%AF%E1%84%85%E1%85%A5%E1%84%8B%E1%85%B4%E1%84%80%E1%85%A1%E1%86%AB%E1%84%85%E1%85%A3%E1%86%A8%E1%84%92%E1%85%AA%E1%84%83%E1%85%AC%E1%86%AB%E1%84%82%E1%85%A2%E1%84%87%E1%85%AE%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B71.png?raw=true">

**데이터 레지스터**는 CPU와 입출력장치 사이에 주고받을 데이터가 담기는 레지스터입니다.

앞서 장치 컨트롤러는 데이터 버퍼링으로 전송률 차이를 완화한다고 했습니다.

데이터 레지스터가 그 버퍼 역할을 합니다.

최근 주고받은 데이터가 많은 입출력장치에서는 레지스터 대신 RAM을 사용하기도 합니다.

**상태 레지스터**에는 입출력장치가 입출력 작업을 할 준비가 되었는지, 입출력 작업이 완료되었는지, 입출력장치에 오류는 없는지 등의 상태 정보가 저장됩니다.

**제어 레지스터**는 입출력장치가 수행할 내용에 대한 제어 정보와 명령을 저장합니다.

이 레지스터들에 담긴 값들은 버스를 타고 CPU나 다른 입출력장치로 전달되기도 하고, 장치 컨트롤러에 연결된 입출력장치로 전달됩니다.

# 2️⃣ 장치 드라이버

새로운 장치를 컴퓨터에 연결하려면 장치 드라이버를 설치해야 합니다.

## 1️⃣ 장치 드라이버

**장치 드라이버(device driver)** 란 장치 컨트롤러의 동작을 감지하고 제어함으로써 장치 컨트롤러가 컴퓨터 내부와 정보를 주고받을 수 있게 하는 프로그램입니다.

프로그램이기에 당연히 실행 과정에서 메모리에 저장됩니다.

장치 컨트롤러가 입출력장치를 연결하기 위한 하드웨어적인 통로라면, 장치 드라이버는 입출력장치를 연결하기 위한 소프트웨어적인 통로입니다.

<img src = "https://github.com/devKobe24/images/blob/main/%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%E1%84%83%E1%85%B3%E1%84%85%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%E1%84%8B%E1%85%B4%E1%84%80%E1%85%A1%E1%86%AB%E1%84%85%E1%85%A3%E1%86%A8%E1%84%92%E1%85%AA%E1%84%83%E1%85%AC%E1%86%AB%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B71.png?raw=true">

컴퓨터가 연결된 장치의 드라이버를 인식하고 실행할 수 있다면 그 장치는 어떤 회사에서 만들어진 제품이든, 생김새가 어떻든 상관없이 컴퓨터 내부와 정보를 주고받을 수 있습니다.

반대로 장치 드라이버를 인식하거나 실행할 수 없는 상태라면 그 장치는 컴퓨터 내부와 정보를 주고받을 수 없습니다.

> 장치 드라이버를 인식하고 실행하는 주체
> 
> 장치 드라이버를 인식하고 실행하는 주체는 정확히 말하자면 윈도우, macOS와 같은 운영체제입니다.
> 즉, 운영체제가 장치드라이버를 인식하고 실행할 수 있다면 그 장치는 컴퓨터 내부와 정보를 주고받을 수 있습니다.
> 
> 장치 드라이버는 운영체제가 기본으로 제공하는 것도 있지만, 장치 제작자가 따로 제공하기도 합니다.
> 물론 장치 제작자가 장치 드라이버를 따로 제공하는 경우 입출력장치는 해당 드라이버를 직접 설치해야만 사용이 가능합니다.

# 3️⃣ 키워드로 정리하는 핵심 포인트
- 입출력장치는 **장치 컨트롤러** 를 통해 컴퓨터 내부와 정보를 주고받습니다.
- **장치 드라이버**는 장치 컨트롤러가 컴퓨터 내부와 정보를 주고받을 수 있게 하는 프로그램입니다.

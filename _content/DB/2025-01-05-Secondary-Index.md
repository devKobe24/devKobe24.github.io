---
title: "💾[Database] Secondary Index(보조 인덱스)는 무엇일까요?"
tags:
    - Database
    - Database Optimization
date: "2025-01-05"
thumbnail: "/assets/img/thumbnail/database.jpeg"
---

# 💾[Database] Secondary Index(보조 인덱스)는 무엇일까요?
## 📌 Intro.
- ↘︎ **Secondary Index (보조 인덱스)는 테이블의 기본 키(Primary Key)나 클러스터형 인덱스(Clustered Index) 외의 다른 컬럼(Column)에 추가로 생성되는 인덱스임.**
    - ↘︎ **주로 검색 성능을 개선하거나 특정 열(Column)에서의 조회를 최적화하기 위해 사용됨.**

## ✅1️⃣ Secondary Index의 핵심 개념.
### 1️⃣ 기본 키(Primary Key)와의 차이.
- ↘︎ **Primary Key :** 테이블의 주된 인덱스로, 데이터가 물리적으로 정렬됨.
- ↘︎ **Secondary Index :** 기본 키(Primary Key)가 아닌 다른 컬럼을 기준으로 생성되며, 데이터는 물리적으로 정렬되지 않음.

### 2️⃣ 포인터 구조.
- ↘︎ **Secondary Index**는 해당 컬럼의 값을 정렬한 후, **기본 키(Primary Key)나 물리적 주소를 가리키는 포인터를 포함함.**
    - ↘︎ 이를 통해 해당 컬럼 값으로 빠르게 데이터를 찾고, 그 데이터를 실제로 조회할 수 있음.

### 3️⃣ 다중 생성 가능.
- ↘︎ 하나의 테이블에는 여러 개의 **Secondary Index**를 생성할 수 있음.
    - ↘︎ 예를 들어, name과 email 컬럼에 각각 Secondary Index를 생성할 수 있음.

### 4️⃣ 읽기/쓰기 성능 트레이드오프.
- ↘︎ Secondary Index는 **읽기 성능을 향상시키지만, 쓰기 성능(INSERT, UPDATE, DELETE)은 저하될 수 있음.**
    - ↘︎ 데이터가 변경될 때마다 인덱스를 업데이트해야 하기 때문임.

## ✅2️⃣ Secondary Index의 장단점.
### 👍 장점.
#### 1️⃣ 검색 속도 향상.
- 특정 컬럼에 대해 빠르게 검색 가능.
#### 2️⃣ 여러 필드에 인덱스 생성 가능.
- 하나의 테이블에 여러 Secondary Index를 생성할 수 있음.
#### 3️⃣ 다양한 쿼리 최적화.
- 자주 사용하는 WHERE, JOIN, ORDER BY 절에 활용 가능.

### 👎 단점.
#### 1️⃣ 쓰기 성능 저하.
- 데이터 삽입, 업데이트, 삭제 시 Secondary Index도 함께 업데이트되어야 하므로 쓰기 성능이 저하됨.
#### 2️⃣ 추가적인 저장 공간 필요.
- Secondary Index는 별도의 저장 공간을 차지함.
#### 3️⃣ 복잡한 유지 관리.
- 너무 많은 인덱스는 쿼리 최적화나 인덱스 재구성에 부하를 줄 수 있음.

## ✅3️⃣ Secondary Index vs Clusterd Index

|구분|Clustered Index|Secondary Index|
| -------- | -------- | -------- |
|기준(Column)|Primary Key (주로)|일반 컬럼 (기본 키 외)|
|물리적 정렬|데이터가 정렬됨|데이터가 정렬되지 않음|
|인덱스 개수|하나만 생성 가능|여러 개 생성 가능|
|데이터 접근 방식|직접 데이터 접근|포인터를 통해 데이터 접근|
|읽기 성능|빠름|빠름 (하지만 포인터 단계 필요)|
|쓰기 성능|비교적 안정적|쓰기 성능 저하 가능|
|저장 공간|비교적 적음|추가 저장 공간 필요|

## ✅4️⃣ 언제 Secondary Index를 사용해야 할까?
### 1️⃣ 자주 검색하는 컬럼.
- 특정 컬럼을 자주 사용하여 데이터를 조회할 때.
### 2️⃣ WHERE 절 사용 빈도가 높은 컬럼.
- 특정 조건으로 자주 필터링할 때.
### 3️⃣ JOIN 연산 최적화.
- 다른 테이블과 JOIN할 때 키로 자주 사용되는 컬럼.

## 🚀 정리.
- **Secondary Index(보조 인덱스)는 기본 키나 Clustered Index(클러스터형 인덱스) 외의 다른 컬럼에 대해 추가로 생성되는 인덱스.**
- **주로 자주 조회되는 특정 컬럼에 대한 검색 성능을 개선하기 위해 사용.**
    - 하지만 너무 많은 Secondary Index를 생성하면 **쓰기 성능 저하 및 저장 공간 낭비가 발생할 수 있음**

## 🔑 핵심 포인트.
- **읽기 성능 최적화.**
- **다중 생성 가능.**
- **쓰기 성능 저하 주의.**
👉 Secondary Index는 데이터베이스 설계 시 **조회 패턴과 데이터 변경 빈도를 고려하여 신중하게 선택해야 함.**

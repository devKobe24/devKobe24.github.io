---
title: "💾 [CS] RAID의 정의와 종류"
tags:
    - CS
date: "2024-05-21"
thumbnail: "/assets/img/thumbnail/cs.jpeg"
---

# RAID의 정의와 종류.

1TB 하드 디스크 네 개로 RAID를 구성하면 4TB 하드 디스크 한 개의 성능과 안전성을 능가할 수 있습니다.

## RAID의 정의.

'보조기억장치에도 수명이 있습니다.' 그래서 '하드 디스크와 같은 보조기억장치에 어떻게든 저장만 하면 됩니다' 와 같은 단순한 답변은 다소 부족한 해법입니다.

이럴 때 사용할 수 있는 방법 중 하나가 RAID입니다.

**RAID(Redundant Array of Independent Disks)** 는 주로 하드 디스크와 SSD를 사용하는 기술로, 데이트의 안정선 혹은 높은 성능을 위해 여러 개의 물리적 보조기억장치를 마치 하나의 논리적 보조기억장치처럼 사용하는 기술을 의미합니다.

## RAID의 종류

RAID 구성 방법을 **RAID 레벨** 이라고 표현합니다.

RAID 레벨에는 대표적으로 RAID 0, RAID 1, RAID 2, RAID 3, RAID 4, RAID 5, RAID 6 이 있고 그로부터 파생된 RAID 10, RAID 50 등이 있습니다.

### RAID 0

**RAID 0** 은 여러 개의 보조기억장치에 데이터를 잔순히 나누어 저장하는 구성 방식입니다.

가령 1TB 하드 디스크 네 개로 RAID 0을 구성했다고 가정해 봅시다.

<img src = "https://github.com/devKobe24/images/blob/main/RAID0%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B71.png?raw=true">

이제 어떠한 데이터를 저장할 때 각 하드 디스크는 아래와 같이 번갈아 가며 데이터를 저장합니다,
즉, 저장되는 데이터가 하드 디스크 개수만큼 나위어 자장되는 것입니다.

<img src = "https://github.com/devKobe24/images/blob/main/RAID0%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B72.png?raw=true">

이때 마치 줄무늬처럼 분산되어 저장된 데이터를 **스트라입(Stripe)** 이라 하고, 분산하여 저장하는 것을 **스트라이핑(Striping)** 이라고 합니다.

위와 같이 데이터가 분산되어 저장되면, 다시 말해 스트라이핑되면 저장된 데이터를 읽고 쓰는 속도가 빨라집니다.

하나의 대용량 저장 장치를 이용했더라면 여러 번에 걸쳐 일고 썻을 데이터를 동시에 읽고 쓸 수 있기 때문입니다.

그렇기에 4TB 저장 장치 한 개를 읽고 쓰는 속도보다 RAID 0로 구성된 1TB 저장 장치 네 개의 속도가 이론상 네 배가량 빠릅니다.

<img src = "https://github.com/devKobe24/images/blob/main/RAID0%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B73.png?raw=true">

### RAID 0의 단점

RAID 0에는 단점이 있습니다.

저장된 정보가 안전하지 않습니다.

RAID 0으로 구성된 하드 디스크 중 하나에 문제가 생긴다면 다른 모든 하드 디스크의 정보를 읽는 데 문제가 생길 수 있습니다.

그래서 등장한 것이 RAID 1 입니다.

<img src = "https://github.com/devKobe24/images/blob/main/RAID0%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B74.png?raw=true">

### RAID 1

**RAID 1** 은 복사본을 만드는 방식입니다.

마치 거울처럼 완전한 복사본을 만드는 구성이기에 **미러링(mirroring)** 이라고도 부릅니다.

아래 그림은 네 개의 하드 디스크를 RAID 1으로 구성한 모습입니다.

RAID 0처럼 데이터 스트라이핑이 사용되긴 했지만, 오른쪽의 두 하드 디스크는 마치 거울처럼 왼쪽의 두 하드 디스크와 동일한 내용을 저장하고 있습니다.

이처럼 RAID 1에 어떠한 데이터를 쓸 때는 원본과 복사본 두 군데에 씁니다.

그렇기에 쓰기 속도는 RAID 0보다 느립니다.

<img src = "https://github.com/devKobe24/images/blob/main/RAID1%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B71.png?raw=true">

RAID 1 방식은 복구가 매우 간단하다는 장점이 있습니다.

똑같은 디스크가 두 개 있는 셈이니, 하나에 문제가 발생해도 잃어버린 정보를 금방 되찾을 수 있기 때문입니다.

### RAID 1의 단점

RAID 1은 하드 디스크 개수가 한정되었을 때 사용 가능한 용량이 적어지는 단점이 있습니다.

위 그림만 보아도 RAID 0 구성은 4TB의 정보를 저장할 수 있는 반면, RAID 1에서는 2TB의 정보만 저장할 수 있습니다.

즉, RAID 1에서는 복사본이 만들어지는 용량만큼 사용자가 사용하지 못합니다.

결국 많은 양의 하드 디스크가 필요하게 되고, 비용이 증가한다는 단점으로 이어집니다.

### RAID 4
**RAID 4**는 RAID 1처럼 완전한 복사본을 만드는 대신 오류를 검출하고 복구하기 위한 정보를 저장한 장치를 두는 구성 방식입니다.

이때 '오류를 검출하고 복구하기 위한 정보'를 **패리티 비트(parity bit)** 라고 합니다.

RAID 4에서는 패리티를 저장한 장치를 이용해 다른 장치들의 오류를 검출하고, 오류가 있다면 복구합니다.

이로써 RAID 4는 RAID 1보다 적은 하드 디스크로도 데이터를 안전하게 보관할 수 있습니다.

<img src = "https://github.com/devKobe24/images/blob/main/RAID4%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B71.png?raw=true">

> **오류를 검출하는 패리트 비트**
> 
> 원래 패리트 비트는 오류 검출만 가능할 뿐 오류 복구는 불가능합니다.
> 하지만 RAID에서는 패리트 값으로 오류 수정도 가능합니다.
> 다만 구체적인 방법인 패리티 계산법은 다루지 않을 예정입니다.
> 여기서 다음 두 가지만 기억하면 됩니다.
> 
> 1. RAID 4에서는 패리티 정보를 저장한 장치로서 나머지 장치들의 오루를 검출.복구한다.
> 2. 패리티 비트는 본래 오류 검출용 정보지만, RAID에서는 오류 복구도 가능하다.

### RAID 5
RAID 4에서는 어떤 새로운 데이터가 저장될 때마다 패리티를 저장하는 디스크에도 데이터를 쓰게 되므로 패리티를 저장하는 장치에 병목 현상이 발생한다는 문제가 있습니다.

<img src = "https://github.com/devKobe24/images/blob/main/RAID4%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B72.png?raw=true">

**RAID 5**는 아래 그림처럼 패리티 정보를 분산하여 저장하는 방식으로 RAID 4의 문제인 병목 현상을 해소합니다.

<img src = "https://github.com/devKobe24/images/blob/main/RAID5%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B71.png?raw=true">

### RAID 6
**RAID 6** 의 구성은 기본적으로 RAID 5와 같으나, 다음 그림과 같이 서로 다른 두 개의 패리티를 두는 방식입니다.

이는 오류를 검출하고 복구할 수 있는 수단이 두 개가 생긴 셈입니다.

따라서 RAID 6은 RAID 4나 RAID 5보다 안전한 구성이라 볼 수 있습니다.

다만 새로운 정보를 저장할 때마다 함께 저장할 패리티가 두 개이므로, 쓰기 속도는 RAID 5보다 느립니다.

따라서 RAID 6은 데이터 저장 속도를 조금 희생하더라도 데이터를 더욱 안전하게 보관하고 싶을 때 사용하는 방식입니다.

<img src = "https://github.com/devKobe24/images/blob/main/RAID6%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B71.png?raw=true">

---

## 정리

이 외에도 RAID 0과 RAID 1을 혼합한 RAID 10 방식도 있고, RAID 0과 RAID 5를 혼합한 RAID 5방식도 있습니다.

> note: 이렇게 여러 RAID 레벨을 혼합한 방식을 **Nested RAID** 라고 합니다.

각 RAID 레벨마다 장단점이 있으므로 어떤 상황에서 무엇을 최우선으로 원하는지에 따라 최적의 RAID 레벨은 달라질 수 있습니다.

그렇기에 각 RAID 레벨의 대략적인 구성과 특징을 아는것이 중요합니다.

---

## 키워드로 정리하는 핵심 포인트
- **RAID**란 데이터의 안전성 혹은 높은 성능을 위해 여러 하드 디스크나 SSD를 마치 하나의 장치저럼 사용하는 기술입니다.
- **RAID 0**은 데이터를 단순히 병렬로 분산하여 저장하고, **RAID 1**은 완전한 복사본을 만듭니다.
- **RAID 4**는 패리티를 저장한 장치를 따로 두는 방식이고, **RAID 5**는 패리티를 분산하여 저장하는 방식입니다.
- **RAID 6**은 서로 다른 두 개의 패리티를 두는 방식입니다.

---

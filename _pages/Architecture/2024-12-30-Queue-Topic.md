---
title: 🏗️[Architecture] 큐(Queue)와 토픽(Topic)?
tags:
    - Architecture
    - Software Architecture
    - Distributed System
    - System Design
date: "2024-12-30"
thumbnail: "/assets/img/thumbnail/architecture.jpg"
---

# 🏗️[Architecture] 큐(Queue)와 토픽(Topic)?
## 📌 Intro.
- ↘︎ 메시지 브로커(Message Broker)는 **큐(Queue)와 토픽(Topic)이라는** 두 가지 주요 방식으로 메시지를 전달합니다.
    - ↘︎ 이 두 방식은 **전송 방식, 수신자 수, 사용 사례에서 차이를 보입니다.**

## ✅1️⃣ 큐(Queue)
- **설명:**
    - ↘︎ 큐(Queue)는 **메시지를 일렬로 저장하는 구조**
    - ↘︎ 메시지는 **한 번만 소비되며, 단일 소비자(Single Consumer)가 이를 처리함.**
    - ↘︎ **FIFO(First-In-First-Out) 방식으로 메시지를 전달.**
    - ↘︎ **한 메시지는 하나의 소비자만 처리할 수 있음.**
- **특징:**
    - ↘︎ **단일 소비자 패턴 :** 하나의 메시지는 한 번만 처리 됨.
    - ↘︎ **순서 보장 :** 메시지는 삽입된 순서대로 전달됨.
    - ↘︎ **부하 분산 :** 여러 소비자가 동시에 큐에 연결되면, 메시지가 분산되어 처리됨.
- **사용 사례:**
    - ↘︎ **작업 대기열(Task Queue) :** 백그라운드 작업, 이메일 전송, 비디오 인코딩 등.
    - ↘︎ **단일 메시지 처리 :** 한 번만 처리해야 하는 작업.
- **예시 기술:**
    - ↘︎ **Amazon SQS (Simple Queue Service)**
    - ↘︎ **RabbitMQ (Queue 모드)**
    - ↘︎ **Apache Active MQ**

## ✅2️⃣ 토픽(Topic)
- **설명:**
    - ↘︎ 토픽은 **발행-구독(Pub/Sub) 모델을 사용.**
    - ↘︎ 하나의 메시지가 **여러 구독자(Subscribers)에게 동시에 전달 될 수 있음.**
    - ↘︎ 메시지는 주제(Topic)에 게시되고, 해당 주제(Topic)를 구독(Subscribe)한 모든 구독자(Subscribers)가 메시지를 받음.
- **특징:**
    - ↘︎ **다중 소비자 패턴 :** 하나의 메시지가 여러 소비자에게 동시에 전달됨.
    - ↘︎ **유연한 구독 모델 :** 각 구독자는 특정 토픽을 필터링하여 관심 있는 메시지만 수신할 수 있음.
    - ↘︎ **브로드 캐스트 :** 메시지가 여러 수신자에게 동시에 전달됨.
- **사용 사례:**
    - ↘︎ **이벤트 알림 :** 주문 완료 알림, 사용자 가입 알림 등
    - ↘︎ **실시간 데이터 스트리밍 :** 실시간 가격 정보, 로그 수집 등
    - ↘︎ **다중 시스템 동기화 :** 여러 서비스 간 동기화가 필요할 때
- **예시 기술:**
    - ↘︎ **Apache Kafka(Topic 기반 메시징)**
    - ↘︎ **Amazon SNS(Simple Notification Service)**
    - ↘︎ **RabbitMQ(Topic Exchange 모드)**

## ✅3️⃣ 큐(Queue) vs 토픽(Topic) 비교.

| 구분        | 큐(Queue)                         | 토픽(Topic)                      |
| ----------- | --------------------------------- | -------------------------------- |
| 메시지 소비 | 한 메시지는 하나의 소비자만 처리  | 한 메시지는 여러 구독자에게 전달 |
| 통신 방식   | Point-to-Point(P2P)               | Publish-Subscribe(Pub/Sub)       |
| 순서 보장   | FIFO 순서 보장                    | 순서는 보장되지 않을 수도 있음   |
| 사용 사례   | 백그라운드 작업, 비동기 요청 처리 | 실시간 알림, 브로드캐스트 이벤트 |
| 구성 요소   | Producer ➞ Queue ➞ Consumer       | Producer ➞ Topic ➞ Subscribers   |

## ✅4️⃣ 요약.
- **1. 큐(Queue):**
    - 메시지를 **단일 소비자**에게 전달
    - **순서 보장(FIFO)**
    - 사용 사례: 백그라운드 작업, 작업 대기열
- **2. 토픽(Topic):**
    - 메시지를 **여러 구독자**에게 동시에 전달
    - **브로드캐스트 및 실시간 이벤트 처리**
    - 사용 사례: 실시간 알림, 이벤트 알림

## ✅5️⃣ 핵심 포인트.
- **큐(Queue) :** 하나의 메시지는 **한 번만 소비됨(단일 소비자)**
- **토픽(Topic) :** 하나의 메시지는 **여러 소비자에게 동시에 전달됨(다중 구독자)**

### 👉 올바른 선택:
- **작업 대기열, 백그라운드 처리 ➞ 큐(Queue)**
- **이벤트 브로드캐스트, 실시간 알림 ➞ 토픽(Topic)**

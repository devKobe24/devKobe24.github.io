---
title: 🍃[Spring] API 스펙, HTTP Body가 동일한 경우 DTO를 새로 만드는게 좋을까요?
tags:
    - Spring
    - Framework
date: "2024-11-08"
thumbnail: "/assets/img/thumbnail/spring.jpeg"
---

# 🍃[Spring] API 스펙, HTTP Body가 동일한 경우 DTO를 새로 만드는게 좋을까요?
- API 스펙과 HTTP Body가 완전히 동일하더라도 DTO를 재활용할지 새로 만들지는 다음을 고려하여 결정하는 것이 좋습니다.

## 1️⃣ 의미와 책임의 분리.
- 두 API가 서로 다른 의미와 목적을 가진다면, 예를 들어 하나는 사용자 등록이고 다른 하나는 사용자 업데이트일 경우, 같은 데이터를 사용하더라도 **별도의 DTO를 생성하는 것이 좋습니다.**
    - 이렇게 하면 각 API의 목적과 컨텍스트가 명확해지고, 코드 가독성이 향상됩니다.

## 2️⃣ 확장성과 변경 가능성.
- 하나의 DTO를 여러 API에서 공유하면, 한쪽의 요구사항이 변경될 때 다른 API에 영향을 줄 수 있습니다.
    - 특히 하나의 API만 변경이 필요한 상황에서 공유 DTO를 수정할 경우 다른 API에 의도치 않은 영향을 줄 수 있습니다.
        - **독립적인 유지보수가 필요한 경우 DTO를 새로 생성하는 것이 좋습니다.**

## 3️⃣ 검증 로직 차이.
- DTO에 검증 로직이 포함되어 있다면, API마다 검증 방식이 다를 수 있습니다.
    - 같은 구조를 가지더라도 검증이 다르면 DTO를 구분하는 것이 적합합니다.

## 4️⃣ 간단한 경우 재활용 가능.
- 두 API가 매우 유사한 목적을 가지고 있고, 현재와 미래에도 변경 가능성이 적다고 판단된다면 DTO를 **재활용**하는 것이 코드 중복을 줄이는 방법이 될 수 있습니다.

## 5️⃣ 마무리.
- 따라서 API의 목적과 데이터 사용 방식이 명확하게 구분되는 경우라면 DTO를 새로 만들고, 그렇기 않은 경우 재활용할 수 있습니다.

---
title: "🔍 [Troubleshooting] 🚀 파일 경로(Path)로 인한 에러"
tags:
  - Troubleshooting
  - Backend Development
date: "2025-12-27"
thumbnail: "/assets/img/thumbnail/troubleshooting.jpg"
---

## 🎯 시작하며

이번에 만난 에러는 **"파일 경로(Path)"** 와 관련된 전형적인 문제입니다.

로그를 보면, 파일이 저장되려는 경로가 프로젝트 폴터가 아니라 **맥(macOS)의 임시 폴더(Tomcat TempDir)** 로 잡혀있습니다.

```plaintext
/private/var/folders/.../Tomcat/localhost/ROOT/./uploads/황도_main.png
```

원인은 `application.yml`에서 설정한 `./upload`라는 **"상대 경로"** 때문입니다.
**`./`** 는 "현재 실행 위치"를 의미하는데, IntelliJ나 터미널의 실행 환경에 따라 이 "현재 위치"가 프로젝트 루트가 될 수도 있고, 톰캣의 내부 임시 폴터가 될 수도 있어 불안정합니다.

이를 해결하기 위해 **무조건 프로젝트 루트 경로(`user.dir`)를 기준으로 저장하도록 설정**을 변경해야 합니다.

---

**✅ 해결 방법: 설정 파일 수정**
`application.yml` 파일을 열어 `file.upload-dir` 설정을 아래와 같이 수정합니다.

**파일: `src/main/resources/application.yml`**

```yaml
# [수정 전]
file:
  upload-dir: ./uploads/ # 상대 경로 (불안정)

# [수정 후]
file:
  upload-dir: ${user.dir}/uploads/ # 절대 경로 (시스템의 프로젝트 루트 경로를 가져옴)
```

- `${user.dir}`: 자바 시스템 프로퍼티로, 현재 프로젝트의 최상위 루트 경로(절대 경로)를 자동으로 가져옵니다
    - 이렇게 하면 어디서 실행하든 무조건 `내프로젝트/uploads/` 폴더에 저장됩니다.

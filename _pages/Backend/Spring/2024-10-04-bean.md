---
title: 🍃[Spring] Spring 빈(Bean).
tags:
    - Spring
    - Framework
date: "2024-10-04"
thumbnail: "/assets/img/thumbnail/spring.jpeg"
---

# 🍃[Spring] Spring 빈(Bean).

Spring에서 **빈(Bean)** 은 **Spring IoC 컨테이너**에 의해 관리되는 객체를 의미합니다.

간단히 말해, 빈은 스프링 애플리케이션의 핵심 구성 요소로, 개발자가 정의한 객체(클래스 인스턴스)가 Spring의 관리 하에 동작하는 것을 뜻합니다.

## 1️⃣ Spring 빈의 주요 개념.

### 1. 빈 정의(Bean Definition)
- 스프링 애플리케이션에서 빈은 **개발자가 정의한 객체입니다.**
- 빈은 일반적으로 애플리케이션의 중요한 서비스, 레포지토리, 컨트롤러 같은 객체들로, 스프링 컨테이너에 의해 생명주기가 관리됩니다.

### 2. 스프링 IoC(Inversion of Control) 컨테이너.
- Spring IoC 컨테이너는 빈의 생성, 초기화, 설정, 소멸 등의 생명주기를 관리합니다.
- 개발자는 직접 객체를 생성하거나 소멸시키지 않고, IoC 컨테이너에 그 역할을 맡깁니다.
- IoC 컨테이너는 빈을 필요에 따라 자동으로 주입하고 관리합니다.

### 3. 빈 등록.
- 빈은 XML 설정 파일, 자바 설정 클래스, 또는 어노테이션 기반으로 등록할 수 있습니다.
- 어노테이션 기반으로 빈을 등록하는 방식이 Spring Boot에서는 주로 사용됩니다.

## 2️⃣ 빈의 정의와 생성 방식.

### 1. 어노테이션 기반 빈 등록(Spring Boot에서 자주 사용)

빈을 생성하는 가장 일반적인 방법은 클래스에 어노테이션을 붙여 빈으로 등록하는 방식입니다.

- `@Component`
    - 일반적인 빈으로 등록할 때 사용됩니다.
- `@Sevice`, `@Repository`, `@Controller`
    - 각각 서비스, 레포지토리, 컨트롤러 역할을 하는 빈을 등록할 때 사용되는 더 구체적인 어노테이션입니다.

### 예시
```java
@Component
public class MyService {
    // 이 클래스는 스프링 컨테이너에 의해 관리되는 빈이 됩니다.
}

@Service
public class UserService {
    // 이 클래스도 @Service로 빈으로 등록됩니다.
}
```

### 2. 자바 설정 클래스에서 빈 등록

자바 설정 파일을 사용해 명시적으로 빈을 등록할 수도 있습니다.
이 방식에서는 `@Configuration` 과 `@Bean` 어노테이션을 사용합니다.

### 예시
```java
@Configuration
public class AppConfig {
    
    @Bean
    public MyService myService() {
        return new MyService();
    }
}
```
- `@Bean` 어노테이션을 사용해 메서드가 반환하는 객체를 빈으로 등록할 수 있습니다.

### 3. XML 기반 설정(현재는 잘 사용되지 않음)

과거에는 XML 파일을 사용해 빈을 설정했으나, 현재는 주로 자바 설정과 어노테이션 기반 설정을 사용합니다.

## 3️⃣ 빈의 생명주기

스프링 IoC 컨테이너는 빈의 생명주기를 관리합니다.
빈의 생명주기는 다음과 같습니다.

### 1. 생성.
- 스프링 컨테이너가 빈을 생성합니다.

### 2. 의존성 주입.
- 생성된 빈에 필요한 의존성(다른 빈)이 주입됩니다.

### 3. 초기화.
- 빈이 필요한 설정 및 초기화 작업을 수행할 수 있습니다.

### 4. 사용.
- 빈이 애플리케이션 내에서 사용됩니다.

### 5. 소멸.
- 애플리케이션 종료 시 빈이 소멸됩니다.

## 3️⃣ 빈 스코프

스프링 빈은 여러 가지 스코프를 가질 수 있습니다.

스코프는 빈이 생성되고 사용되는 범위를 지정하는 것입니다.

### 1. 싱글톤(Singleton)
- 스프링 애플리케이션 내에서 기본 스코프로, 컨테이너에 한 번만 생성됩니다.
- 이후 같은 빈에 대한 요청이 있을 경우, 동일한 객체 인스턴스가 반환됩니다.
- 거의 대부분의 스프링 빈은 싱글톤으로 관리됩니다.

### 2. 프로토타입(Prototype)
- 빈이 요청될 때마다 새로운 인스턴스가 생성됩니다.
- 즉, 매번 다른 객체가 반환됩니다.

### 3. Request, Session, Application
- 웹 애플리케이션에서 사용되는 스코프로, 각각 HTTP 요청당, 세션당, 또는 서블릿 컨텍스트당 새로운 빈을 생성합니다.

## 4️⃣ 예시: 싱글톤 빈
```java
@Service
public class UserService {
    // 이 클래스는 싱글톤 빈으로 관리됩니다.
}
```

- 스프링 애플리케이션 내에서 `UserService` 빈은 한 번만 생성되고, 애플리케이션 전체에서 동일한 객체로 사용됩니다.

## 5️⃣ 결론

스프링 빈은 스프링 IoC 컨테이너에 의해 관리되는 객체로, 애플리케이션의 주요 구성 요소를 의미합니다.
빈은 어노테이션 또는 자바 설정 파일을 통해 등록할 수 있으며, 스프링 컨테이너는 빈의 생명주기를 자동으로 관리합니다.
이를 통해 의존성 주입, 객체 관리, 그리고 애플리케이션 전반의 유연성을 크게 향상시킬 수 있습니다.

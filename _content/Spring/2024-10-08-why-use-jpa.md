---
title: 🍃[Spring] JPA를 사용하는 이유.
tags:
    - Spring
    - Framework
date: "2024-10-08"
thumbnail: "/assets/img/thumbnail/spring.jpeg"
---

# 🍃[Spring] JPA를 사용하는 이유.
- **JPA(Java Persistence API)** 를 사용하는 이유는 주로 **데이터베이스와 객체 간의 상호작용을 효율적으로 처리하고, 객체지향 프로그래밍(OOP)** 을 데이터베이스에 쉽게 적용하기 위해서 입니다.
- JPA는 데이터베이스 작업을 단순화하고, 개발자가 데이터베이스에 의존적인 SQL 쿼리를 직접 작성하는 대신, **객체 모들을 통해 데이터를 관리할 수 있게 해줍니다.**

> 🙋‍♂️ [소프트웨어 공학에서의 모듈](https://www.devkobe24.com/CS/2024/2024-10-07-modules-in-software-engineering.html)
> 🙋‍♂️ [모듈과 컴포넌트를 레고 블록에 비유해보면?!](https://www.devkobe24.com/CS/2024/2024-10-07-compare-modules-and-components-to-lego-blocks.html)

## 1️⃣ JPA를 사용하는 주요 이유.

### 1. 객체-관계 매핑(ORM, Object-Relational Mapping) 지원.
- **JPA는 ORM(Object-Relational Mapping) 표준을 제공합니다.**
- ORM을 사용하면 객체와 데이터베이스 테이블 간의 변환을 자동화할 수 있습니다.
- 즉, 데이터베이스의 행(row)을 객체로 매핑하고, 객체의 속성을 데이터베이스의 열(column)과 연결합니다.
- 이를 통해 개발자는 SQL 쿼리 작성에 신경 쓰지 않고, 객체 지향적으로 데이터를 처리할 수 있습니다.

### 2. 데이터베이스 독립성.
- JPA는 데이터베이스 밴더에 종속적이지 않은 **추상화 계층을 제공합니다.**
- JPA를 사용하면 애플리케이션에서 특정 데이터베이스에 의존하지 않으므로, 데이터베이스를 교체하거나 다중 데이터베이스를 사용할 때도 애플리케이션 코드를 크게 변경할 필요가 없습니다.
- 예를 들어, MySQL에서 PostgreSQL로 전환해도 JPA의 설정만 변경하면 대부분의 코드를 수정하지 않고 사용할 수 있습니다.

> 🙋‍♂️ [DIP의 정의에서 말하는 '추상화된 것'과 '추상화'의 개념의 차이점.](https://www.devkobe24.com/CS/2024/2024-10-07-diff-btw-abstracted-thing-and-abstraction.html)

### 3. SQL 작성 부담 감소.
- JPA는 데이터를 조회, 저장, 수정, 삭제하는 데 필요한 **SQL 쿼리를 자동으로 생성해줍니다.**
- 개발자가 직접 SQL을 작성하지 않아도 되고, 객체 지향적으로 데이터 처리를 할 수 있습니다.
- 이를 통해 개발자는 비즈니스 로직에 집중할 수 있으며, 복잡한 SQL 작성의 부담을 줄일 수 있습니다.

### 4. 데이터베이스 스키마 관리.
- JPA는 데이터베이스 스키마를 **자동으로 생성하거나 업데이트하는 기능을 제공합니다.**
- 이를 통해 개발자는 애플리케이션 코드만으로 데이터베이스 테이블을 자동으로 생성하거나 갱신할 수 있습니다.
- 애플리케이션이 시작될 때 데이터베이스 테이블을 자동으로 생성하고, 새로운 엔티티(객체)를 추가하면 그에 따라 데이터베이스 스키마를 자동으로 업데이트할 수 있습니다.

### 5. 캐싱 지원.
- JPA는 1차 캐시와 2차 캐시를 제공하여 성능을 최적화할 수 있습니다.
- 1차 캐시는 **영속성 컨텍스트(Entity Manager)가** 관리하는 캐시로, 동일한 트랜잭션 내에서 이미 조회된 엔티티는 다시 데이터베이스에서 조회하지 않고 캐시에서 가져옵니다.
- 2차 캐시는 **애플리케이션 전체에서 공유**되는 캐시로, **애플리케이션 성능을 높이는 데 도움을 줍니다.**

### 6. 트랜잭션 관리.
- JPA는 트랜잭션 관리를 단순화합니다.
- JPA는 데이터베이스 작업을 트랜잭션으로 묶어주기 때문에, 트랜잭션이 완료되면 모든 변경 사항이 원자적으로 데이터베이스에 반영되거나 롤백됩니다.
- 이를 통해 데이터 일관성과 무결성을 보장할 수 있습니다.

### 7. Lazy Loading과 Eager Loading.
- JPA는 연관된 엔티티를 **지연 로딩(Lazy Loading)** 하거나 **즉시 로딩(Eager Loading)** 할 수 있습니다.
- Lazy Loading은 연관된 데이터를 필요할 때만 가져오고, Eager Loading은 즉시 모든 연관 데이터를 한꺼번에 가져옵니다.
- 이를 통해 애플리케이션 성능을 최적화할 수 있습니다.

### 8. JPQL(Java Persistence Query Language).
- JPA는 **JPQL(Java Persistence Query Language)** 이라는 객체 지향 언어를 제공합니다.
- JPQL은 데이터베이스 테이블 대신 **엔티티 객체** 를 대상으로 쿼리를 작성할 수 있게 해줍니다.
- 이를 통해 SQL처럼 데이터베이스 종속적인 쿼리 대신, 객체를 대상으로 한 쿼리를 작성할 수 있습니다.

예를 들어, SQL이 아닌 객체 기반으로 작성된 JPQL 쿼리
```java
SELECT u FROM User u WHERE u.age > 20
```

- 위 쿼리는 User 객체를 대상으로 하며, 데이터베이스에 의존하지 않습니다.

### 9. 유연한 관계 매핑.
- JPA는 다양한 데이터베이스 관계를 객체로 매핑하는 방법을 지원합니다.
- 예를 들어, 1대1, 1대다, 다대일, 다대다 관계를 객체 지향적으로 표현할 수 있으며, 외래 키(foreign key)와 같은 데이터베이스 관계를 객체 간의 참조로 자연스럽게 처리할 수 있습니다.

### 10. 표준화된 API.
- JPA는 자바 EE의 표준 API이기 때문에, 여러 구현체들(Hibernate, EclipseLink 등)에서 동일한 API로 데이터베이스 작업을 처리할 수 있습니다.
- 이는 개발자들이 특정 구현체에 종속되지 않고 코드를 작성할 수 있도록 해줍니다.

## 2️⃣ 결론.
- JPA를 사용하면 객체 지향적으로 데이터베이스와 상호작용할 수 있어, 개발자는 SQL 작성 및 데이터베이스 종속성을 줄이고, 비즈니스 로직에 집중할 수 있습니다.
- 또한 데이터베이스 독립성, 트랜잭션 관리, 캐싱과 같은 기능을 통해 애플리케이션 성능과 유지보수성을 높일 수 있습니다.
- JPQL과 같은 쿼리 언어를 통해 객체 중심으로 데이터 조회 및 관리를 할 수 있으며, 다양한 데이터베이스 관계를 쉽게 매핑할 수 있는 장점도 제공합니다.

JPA는 추상화 계층을 제공하여 객체 지향 설계와 데이터베이스 간의 간극을 줄이고, 개발 생산성을 크게 높일 수 있는 도구입니다.

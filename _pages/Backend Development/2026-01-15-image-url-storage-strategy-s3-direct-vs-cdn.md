---
title: "ğŸ“š[Backend Development] ğŸš€ ì´ë¯¸ì§€ URL ì €ì¥ ì „ëµ: S3 ì§ì ‘ ì €ì¥ vs CDN í™œìš©"
tags:
  - Backend Development
  - Server
  - Java
  - AWS
  - S3
  - CDN

date: "2026-01-15"
thumbnail: "/assets/img/thumbnail/BackendDevelopment.jpg"
---

# ğŸš€ ì´ë¯¸ì§€ URL ì €ì¥ ì „ëµ: S3 ì§ì ‘ ì €ì¥ vs CDN í™œìš©

## ğŸ¤” ê³ ë¯¼ì˜ ì‹œì‘

ê²Œì„ì´ë‚˜ ì»¤ë¨¸ìŠ¤ ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•˜ë‹¤ ë³´ë©´ ì´ë¯¸ì§€ íŒŒì¼ì„ ì–´ë–»ê²Œ ê´€ë¦¬í• ì§€ ê³ ë¯¼í•˜ê²Œ ë©ë‹ˆë‹¤. 
íŠ¹íˆ ëª¬ìŠ¤í„°, ì•„ì´í…œ, ìƒí’ˆ ì´ë¯¸ì§€ì²˜ëŸ¼ **ìˆ˜ë°±~ìˆ˜ì²œ ê°œì˜ ì´ë¯¸ì§€**ë¥¼ ë‹¤ë¤„ì•¼ í•œë‹¤ë©´?

ì˜¤ëŠ˜ì€ ì‹¤ë¬´ì—ì„œ ìì£¼ ë§ˆì£¼ì¹˜ëŠ” ì´ë¯¸ì§€ ì €ì¥ ì „ëµì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

---

## ğŸ“¦ ê¸°ë³¸ ì„¤ê³„: Entity êµ¬ì¡°

ë¨¼ì € ëª¬ìŠ¤í„° ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” Entityë¥¼ ì‚´í´ë´…ì‹œë‹¤.

```java
@Entity
@Getter
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@Table(name = "monster_species")
public class MonsterSpecies {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(nullable = false, unique = true)
    private String name;

    @Enumerated(EnumType.STRING)
    private MonsterStage stage;

    @Enumerated(EnumType.STRING)
    private MonsterAttribute attribute;

    private int baseHp;
    private int basePower;

    // ğŸ¯ í•µì‹¬: ì´ë¯¸ì§€ëŠ” URL ë¬¸ìì—´ë¡œ ì €ì¥
    private String idleImageUrl;     // ëŒ€ê¸° ì´ë¯¸ì§€ URL
    private String attackImageUrl;   // ê³µê²© ì´ë¯¸ì§€ URL
}
```

ì£¼ëª©í•  ì ì€ **ì´ë¯¸ì§€ íŒŒì¼ ìì²´(Binary)ê°€ ì•„ë‹Œ URL(String)** ì„ ì €ì¥í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

---

## âœ… S3 URL ì§ì ‘ ì €ì¥ ë°©ì‹ì˜ ì¥ì 

### 1ï¸âƒ£ í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™ì´ ë„ˆë¬´ ê°„ë‹¨í•©ë‹ˆë‹¤

API ì‘ë‹µì„ ë°›ì€ í”„ë¡ íŠ¸ì—”ë“œëŠ” **ì•„ë¬´ ê°€ê³µ ì—†ì´** ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.

```javascript
// API ì‘ë‹µ
{
  "name": "í‚¹í­ê·„",
  "idleImageUrl": "https://tibumon-bucket.s3.ap-northeast-2.amazonaws.com/monsters/king-penguin-idle.png"
}

// Reactì—ì„œ ë°”ë¡œ ì‚¬ìš©
<img src={monster.idleImageUrl} alt={monster.name} />
```

ë³„ë„ì˜ ì´ë¯¸ì§€ ì„œë²„ë‚˜ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë¡œì§ì´ í•„ìš” ì—†ìŠµë‹ˆë‹¤. ğŸ‰

### 2ï¸âƒ£ DB ì„±ëŠ¥ ë¶€ë‹´ì´ ì „í˜€ ì—†ìŠµë‹ˆë‹¤

- **ì˜ëª»ëœ ë°©ì‹**: ì´ë¯¸ì§€ Binaryë¥¼ DB BLOBìœ¼ë¡œ ì €ì¥ â†’ DB ìš©ëŸ‰ í­ë°œ ğŸ’¥
- **ì˜¬ë°”ë¥¸ ë°©ì‹**: ê°€ë²¼ìš´ URL ë¬¸ìì—´ë§Œ ì €ì¥ â†’ DBëŠ” ë¹ ë¥´ê³  ê°€ë³ê²Œ ìœ ì§€ âš¡

```sql
-- ì‹¤ì œ ì €ì¥ë˜ëŠ” ë°ì´í„°ëŠ” ì´ë ‡ê²Œ ê°€ë³ìŠµë‹ˆë‹¤
INSERT INTO monster_species (name, idle_image_url) 
VALUES ('í‚¹í­ê·„', 'https://tibumon-bucket.s3.../king-penguin.png');
```

### 3ï¸âƒ£ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ê°€ ìœ ì—°í•©ë‹ˆë‹¤

ì´ë¯¸ì§€ë¥¼ êµì²´í•˜ê³  ì‹¶ë‹¤ë©´?
- S3ì— ìƒˆ ì´ë¯¸ì§€ ì—…ë¡œë“œ
- DBì˜ URLë§Œ ë³€ê²½

ì„œë²„ ì¬ë°°í¬ ì—†ì´ ì¦‰ì‹œ ë°˜ì˜ë©ë‹ˆë‹¤!

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„: CDN(CloudFront) ë„ì…

íŠ¸ë˜í”½ì´ ì¦ê°€í•˜ë©´ **ì†ë„**ì™€ **ë¹„ìš©** ë¬¸ì œê°€ ìƒê¹ë‹ˆë‹¤.

### ë¬¸ì œ ìƒí™©
```
ì‚¬ìš©ì(ì„œìš¸) â†’ S3(ì„œìš¸) âœ… ë¹ ë¦„ (50ms)
ì‚¬ìš©ì(ë¯¸êµ­) â†’ S3(ì„œìš¸) âŒ ëŠë¦¼ (300ms)
```

### í•´ê²°ì±…: CloudFront CDN í™œìš©

CDNì€ ì „ ì„¸ê³„ì— ë¶„ì‚°ëœ ìºì‹œ ì„œë²„ë¡œ, ì‚¬ìš©ìì™€ ê°€ê¹Œìš´ ê³³ì—ì„œ ì´ë¯¸ì§€ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

```
ì‚¬ìš©ì(ë¯¸êµ­) â†’ CloudFront(ë¯¸êµ­ ì—£ì§€) â†’ S3(ì„œìš¸)
               â””â”€ ìºì‹œ íˆíŠ¸ ì‹œ S3ê¹Œì§€ ì•ˆ ê°! (20ms) ğŸ¯
```

### ğŸ”§ ë§ˆì´ê·¸ë ˆì´ì…˜ì€ ê°„ë‹¨í•©ë‹ˆë‹¤

DBì—ì„œ URLì˜ ë„ë©”ì¸ ë¶€ë¶„ë§Œ ì¼ê´„ ë³€ê²½í•˜ë©´ ë!

```sql
-- Before: S3 ì§ì ‘ ì ‘ê·¼
'https://tibumon-bucket.s3.ap-northeast-2.amazonaws.com/monsters/agumon.png'

-- After: CloudFrontë¥¼ í†µí•œ ì ‘ê·¼
'https://d1a2b3c4d5e6f7.cloudfront.net/monsters/agumon.png'
```

ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œëŠ” **í•œ ì¤„ë„ ìˆ˜ì •í•  í•„ìš” ì—†ìŠµë‹ˆë‹¤**. ğŸ˜

---

## ğŸ’¡ ì‹¤ë¬´ íŒ

### âœ¨ URL ì„¤ê³„ ëª¨ë²” ì‚¬ë¡€

```java
// ê²½ë¡œ êµ¬ì¡°ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬
String baseUrl = "https://cdn.yourservice.com";
String path = "/monsters/" + monsterId + "/idle.png";
String fullUrl = baseUrl + path;

// ë‚˜ì¤‘ì— CDN ì£¼ì†Œë§Œ ë°”ê¾¸ë©´ ì „ì²´ URLì´ ìë™ìœ¼ë¡œ ë³€ê²½ë¨
```

### âš ï¸ ì£¼ì˜ì‚¬í•­

1. **S3 ë²„í‚· ê¶Œí•œ**: Public Read ì„¤ì • í•„ìˆ˜ (ë˜ëŠ” CloudFront OAI ì‚¬ìš©)
2. **HTTPS**: ë³´ì•ˆì„ ìœ„í•´ ë°˜ë“œì‹œ HTTPS ì‚¬ìš©
3. **ì´ë¯¸ì§€ ìµœì í™”**: ì—…ë¡œë“œ ì „ WebP ë³€í™˜, ë¦¬ì‚¬ì´ì§• ê³ ë ¤

---

## ğŸ“Š ë¹„êµ ì •ë¦¬

| í•­ëª© | S3 ì§ì ‘ ì ‘ê·¼ | CloudFront(CDN) |
|------|-------------|----------------|
| **êµ¬ì¶• ë‚œì´ë„** | â­ ì‰¬ì›€ | â­â­ ë³´í†µ |
| **ì‘ë‹µ ì†ë„** | ë³´í†µ | ë¹ ë¦„ |
| **ê¸€ë¡œë²Œ ëŒ€ì‘** | ì œí•œì  | ìš°ìˆ˜ |
| **ë¹„ìš©** | ì €ë ´ | íŠ¸ë˜í”½ ë”°ë¼ ì¦ê°€ |
| **ê¶Œì¥ ì‹œì ** | MVP, ì´ˆê¸° | ì„œë¹„ìŠ¤ ì„±ì¥ê¸° |

---

## ğŸ¯ ê²°ë¡ 

1. **ì´ˆê¸°ì—ëŠ” S3 URL ì§ì ‘ ì €ì¥**ìœ¼ë¡œ ì‹œì‘í•˜ì„¸ìš”. ê°„ë‹¨í•˜ê³  ì¶©ë¶„í•©ë‹ˆë‹¤.
2. íŠ¸ë˜í”½ì´ ì¦ê°€í•˜ë©´ **CloudFront ì¶”ê°€**ë¥¼ ê³ ë ¤í•˜ì„¸ìš”.
3. URLì„ DBì— ì €ì¥í•˜ëŠ” êµ¬ì¡°ë¼ë©´ ë‚˜ì¤‘ì— **ì½”ë“œ ìˆ˜ì • ì—†ì´** CDN ì „í™˜ ê°€ëŠ¥í•©ë‹ˆë‹¤.

> ğŸ’¬ "ì§€ê¸ˆ ë‹¹ì¥ ì™„ë²½í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤. í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°ë¡œ ì‹œì‘í•˜ì„¸ìš”!"

---

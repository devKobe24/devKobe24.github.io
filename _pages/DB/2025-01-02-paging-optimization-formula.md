---
title: "💾[Database] 게시글 목록 조회 - 페이징 최적화 공식"
tags:
    - Database
    - Database Optimization
date: "2025-01-02"
thumbnail: "/assets/img/thumbnail/database.jpeg"
---

# 💾[Database] 게시글 목록 조회 - 페이징 최적화 공식
## 📌 Intro.
- ↘︎ $(((n - 1) / k) + 1) * m * k + 1$
    - ↘︎ 이 공식은 **"페이지네이션(Pagination)"에서 이동 가능한 페이지 번호를 효율적으로 계산하기 위해 설계된 것임.**
    - ↘︎ 주로 **페이징에서 일부 데이터만 카운트하여 효율성을 높이기 위한 접근 방식임.**

## ✅1️⃣ 공식의 각 요소 설명.
- ↘︎ **$n$ :** 현재 페이지 번호 (1부터 시작)
- ↘︎ **$m$ :** 한 페이지당 보여줄 게시글 수
- ↘︎ **$k$ :** 한 번에 보여줄 이동 가능한 페이지 수
- ↘︎ **$(n - 1) / k$ :** 현재 페이지가 속한 페이지 그룹의 인덱스를 구함 **(몫만 사용)**

## ✅2️⃣ 공식 해석 단계별 설명.
### 1️⃣ $(n-1) / k$
- ↘︎ $(n - 1)$을 통해 현재 페이지에서 1을 빼서, **0부터 시작하는 인덱스로 변환.**
    - ↘︎ 이를 $k$로 나누어, **현재 페이지가 속한 페이지 그룹의 인덱스를 구함.**
        - ↘︎ **나머지는 버림(즉, 정수 몫만 사용)**
            - ↘︎ 예시: $n = 7, k = 10 ➞ (7 - 1) / 10 = 0$

### 2️⃣ $((n - 1) / k) + 1$
- ↘︎ 페이지 그룹의 인덱스에 1을 더해 **현재 페이지 그룹 번호**를 구함.
    - ↘︎ 예시: $((7 - 1) / 10) + 1 = 0 + 1 = 1$

### 3️⃣ $((n - 1) / k) + 1) * m * k$
- ↘︎ 페이지 그룹 번호에 $m$(현재 페이지 번호)과 $k$(한 번에 보여줄 이동 가능한 페이지 수)를 곱해, **현재 페이지 그룹에서의 종 게시글 수를 구함.**
    - ↘︎ 예시: $1 * 30 * 10 = 300$

### 4️⃣ $+1$
- ↘︎ 마지막에 $+1$함으로써 **오프셋(offser) 보정을 수행.**
    - ↘︎ 주로 `0-based index`와 `1-based index` 간의 차이를 보정하기 위한 연산.
        - ↘︎ 예시: $300 + 1 = 301$

> 🙋‍♂️ 오프셋(Offset)
> **주로 데이터베이스 페이징 처리나 메모리 주소 계산 등에서 사용되며, 시작 지점에서의 상대적 위치를 의미함.**

## ✅3️⃣ 공식의 의미.
- ↘︎ 이 공식은 **현재 페이지 그웁에 대한 최대 게시글 수를 계산함.**
    - ↘︎ 이로 인해 **모든 게시글을 세지 않고도 페이징을 효율적으로 계산 가능.**
    - ↘︎ 또한, **이동 가능한 페이지 번호를 효율적으로 계산하여 성능을 최적화 할 수 있음.**

## ✅4️⃣ 실제 사용 시나리오.
- 1️⃣ 사용자가 페이지네이션을 통해 특정 페이지(n)에 접근.
- 2️⃣ 전체 게시글 수를 알 필요 없이, 해당 페이지 그룹의 게시글 수만 확인.
- 3️⃣ 이 공식을 통해 필요한 범위의 게시글만 쿼리하거나 계산함.
- 4️⃣ 사용자가 효율적으로 페이지 이동을 할 수 있음.

## 👉📝 한 줄 요약.
- ↘︎ **"이 공식은 현재 페이지 그룹을 기준으로 이동 가능한 페이지 번호 및 게시글 범위를 효율적으로 계산하여, 불필요한 전체 게시글 카운트 작업을 회피하는 페이징 회적화 공식임."**

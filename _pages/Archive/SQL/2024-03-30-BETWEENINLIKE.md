---
title: "💉[SQL] BETWEEN, IN, LIKE"
tags:
    - SQL
date: "2024-03-30"
thumbnail: "/assets/img/thumbnail/sql.jpeg"
---

# BETWEEN, IN, LIKE

## BETWEEN
**'BETWEEN'** 연산자는 SQL에서 특정 범위 내의 값을 선택할 때 사용됩니다.
- 이 연산자는 시작 값과 끝 값 사이에 있는 값을 찾는 데 사용되며, 포함 관계는 양 끝값을 포함합니다.
- **'BETWEEN'** 은 숫자, 텍스트, 날짜 등 다양한 데이터 타입에 적용할 수 있어, 매우 유연하게 사용됩니다.

## 'BETWEEN' 사용 예
- **숫자 범위 :** 나이가 20세에서 30세 사이인 모든 사람을 찾고 싶을 때
```sql
SELECT * FROM people WHERE age BETWEEN 20 AND 30;
```

- **날짜 범위 :** 2023년 1월 1일부터 2023넌 12월 31일까지 생성된 모든 주문을 찾고 싶을 때
```sql
SELECT * FROM orders WHERE order_date BETWEEN '2023-01-01' AND '2023-12-31';
```

- **텍스트 범위 :** 알파벳 순으로 'apple'과 'banana'사이에 오는 모든 항목을 선택할 때
```sql
SELECT * FROM products WHERE name BETWEEN 'apple' AND 'banana';
```

## 'BETWEEN'의 특징.
- **'BETWEEN'** 연산자는 시작 값과 끝 값 모두를 포함하는 "닫힌 범위(closed range)"를 정의합니다.
- 범위 검색을 할 때 매우 효과적입니다. 예를 들어, 특정 기간 동안의 데이터 또는 특정 범위의 값을 갖는 데이터를 찾는 경우에 적합합니다.
- **'BETWEEN'** 대신 **'>='** 와 **'<='** 를 사용해 동일한 조건을 표현할 수도 있지만, **'BETWEEN'** 을 사용하는 것이 더 직관적이고 간결할 수 있습니다.

## 주의사항
- 텍스트 범위를 사용할 때는 데이터베이스가 사용하는 문자열 정렬 규칙(collation)에 주의해야 합니다. 이는 대소문자 구분, 알파벳 순서 등에 영향을 미칠 수 있습니다.
- 날짜 범위를 다룰 때는 날짜 포맷과 시간대 설정이 예상한 결과에 영향을 줄 수 있으니, 데이터베이스의 날짜 포맷 설정을 확인해야 합니다.

---

## IN
**'IN'** 연산자는 SQL에서 한 번의 쿼리로 여러 값을 조회할 때 사용됩니다.
- 특히, 하나의 열(column)이 여러 개의 가능한 값 중 하나를 갖고 있는지 확인할 때 유용합니다.
- **'IN'** 은 주어진 값 리스트 중 어느 하나라도 일치하는 행을 찾을 때 사용되며, 리스트 내의 값과 정확히 일치하는 행만을 결과로 반환합니다.
    - 이는 복수의 **'OR'** 조건을 사용하는 것과 동일한 결과를 나타내지만, 훨씬 간결하고 읽기 쉬운 쿼리를 작성할 수 있게 해줍니다.

## **'IN'** 사용 예
- **다수의 명시적 값에 대한 검색 :** 이름이 'Alice', 'Bob', 또는 'Charlie'인 모든 사람을 찾고 싶을 때
```sql
SELECT * FROM people WHERE name IN ('Alice', 'Bob', 'Charlie');
```

- **서브쿼리와 함께 사용 :** 특정 조건을 만족하는 다른 테이블의 값에 해당하는 행을 찾을 때
```sql
SELECT * FROM product WHERE category_id IN (SELECT id FROM categories WHERE type = 'Eletronics')
```

- **리스트에 포함된 값들로 필터링 :** 특정 지역 코드를 가진 모든 전화번호를 찾고 싶을 때
```sql
SELECT * FROM phone_number WHERE area_code IN ('202', '303', '404');
```

## 'IN' 연산자의 특징
- **'IN'** 은 주어진 리스트 안에 있는 값과 일치하는 모든 행을 찾아내는 데 사용됩니다.
- 복수의 **'OR'** 조건을 간단하게 표현할 수 있어, 쿼리의 가독성을 높여줍니다.
- 리스트 내의 각 항목은 정확한 일치(match)를 찾는 데 사용되므로, 부분 일치나 패턴 일치를 위해서는 다른 연산자(예: **'LIKE'**)를 사용해야 합니다.
- **'IN'** 은 서브쿼리와 함께 사용될 때 매우 강력하며, 다른 테이블의 결과에 기반한 쿼리를 작성하는 데 유용합니다.

## 사용 시 고려사항
- **'IN'** 리스트에 많은 수의 값이 포함될 경우, 성능이 저하될 수 있습니다. 가능한 한, **'JOIN'** 이나 다른 방법으로 쿼리를 최적화하는 것을 고려해야 합니다.
- **'IN'** 으로 서브 쿼리를 사용할 때는 서브쿼리가 많은 양의 데이터를 반환하지 않도록 주의해야 합니다. 서브쿼리의 결과가 크면 큰 만큼, 전체 쿼리의 성능에 영향을 줄 수 있습니다.

**'IN'** 연산자는 SQL에서 특정한 값들의 집합에 대해 검색할 때 매우 유용하며, 쿼리의 복잡성을 줄이고 읽기 쉽게 만들어 줍니다.

---

## LIKE
**'LIKE'** 연산자는 SQL에서 패턴 매칭을 통해 데이터를 검색할 때 사용됩니다.
- 이는 주로 텍스트 데이터를 다룰 때 유용하며, 특정 패턴이나 일부 문자열이 포함된 행을 찾고자 할 때 활용됩니다.
- **'LIKE'** 연산자는 와일드카드 문자와 함께 사용되며, 더 유연한 검색 조건을 제공합니다.
- 주로 사용되는 와일드카드에는 '%'(어떤 문자열이든지 대체 가능)와 '_'(단인 문자 대체)가 있습니다.

## 'LIKE' 사용 예
- **특정 문자열로 시작하는 데이터 검색 :** 이름이 'J'로 시작하는 사람을 찾고 싶을 때
```sql
SELECT * FROM people WHERE name LIKE 'J%';
```
이 경우, 'J'로 시작하는 모든 이름을 찾습니다. '%'는 'J' 이후에 어떤 문자열이 와도 괜찮다는 것을 의미합니다.

- **특정 문자열을 포함하는 데이터 검색 :** 이메일 주소에 'gmail.com'을 포함하는 모든 사람을 찾고 싶을 때
```sql
SELECT * FROM people WHERE email LIKE '%gmail.com';
```
여기서 '%'는 'gmail.com' 앞에 어떤 문자열이 오든지 상관 없다는 것을 의미합니다.

- **특정 패턴에 맞는 데이터 검색 :** 세 자리 코드 중 두 번째 자리가 'A'인 모든 코드를 찾고 싶을 때
```sql
SELECT * FROM codes WHERE code LIKE '_A%';
```
이 쿼리에서 '_'는 정확히 하나의 문자를 대체하고, '%'는 그 뒤에 어떤 문자열이 오든지 상관 없다는 것을 의미합니다.

## 'LIKE' 연산자의 특징
- **'LIKE'** 는 대소문자를 구분하는 데이터베이스에서는 대소문자가 정확히 일치하는 경우에만 결과를 반환합니다. 대소문자 구분 없이 검색하려면, 데이터베이스 또는 컬럼의 설정을 확인하거나, 쿼리에 특정 함수를 사용해야 할 수 있습니다.
- 패턴 매칭을 통해 유연한 검색이 가능하지만, 와일드카드를 많이 사용할수록 쿼리의 성능은 떨어질 수 있습니다. 특히, 문자열 시작 부분에 '%'를 사용하는 경우 인덱스 활용이 어려워 성능 저하의 원인이 될 수 있습니다.

**'LIKE'** 연산자는 문자열 필드 내에서 특정 패턴이나 부분 문자열을 기반으로 데이터를 검색할 때 매우 유용합니다.
패턴 매칭 기능을 통해 복잡한 조건의 문자열 검색을 수행할 수 있으며, 데이터 분석이나 데이터 정제 과정에서 중요한 역할을 합니다.

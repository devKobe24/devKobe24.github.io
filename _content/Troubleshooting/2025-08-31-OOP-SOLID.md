---
title: "ğŸ”[Troubleshooting] OOPì™€ SOLID ê´€ê³„."
tags:
    - Troubleshooting
    - Backend Development
    - Spring Boot
    - OOP
    - SOLID
date: "2025-08-31"
thumbnail: "/assets/img/thumbnail/troubleshooting.jpg"
---

# ğŸš€ OOPì™€ SOLIDì˜ ê´€ê³„ Troubleshooting !

## í•µì‹¬ ì§ˆë¬¸: OOPë©´ ì¶©ë¶„í•œë°, ì™œ SOLIDê°€ í•„ìš”í• ê¹Œ?

### ğŸ¤” ìì£¼ í•˜ëŠ” ì°©ê°

```java
// âŒ "ê°ì²´ì§€í–¥ìœ¼ë¡œ ì„¤ê³„í–ˆìœ¼ë‹ˆ ë ì•„ë‹Œê°€?"
@Service
public class OrderService {
    private ProductRepository productRepo;
    private UserRepository userRepo;
    private PaymentService paymentService;
    private EmailService emailService;
    private SmsService smsService;
    
    public void processOrder(OrderRequest request) {
        // ìƒí’ˆ ì¡°íšŒ, ê²°ì œ, ì´ë©”ì¼, SMS ë“± ëª¨ë“  ê±¸ í•œ ë²ˆì—...
        // 200ì¤„ì˜ ë³µì¡í•œ ë¡œì§
    }
}
```

```java
// âœ… "OOP + SOLID ì›ì¹™ì„ ì ìš©í•˜ë©´?"
@Service
@RequiredArgsConstructor
public class OrderService {
    private final OrderValidator orderValidator;
    private final PaymentProcessor paymentProcessor;
    private final NotificationSender notificationSender;
    
    public OrderResult processOrder(OrderRequest request) {
        orderValidator.validate(request);
        PaymentResult payment = paymentProcessor.process(request);
        notificationSender.sendConfirmation(request, payment);
        return OrderResult.from(request, payment);
    }
}
```

**"OOPë¡œ í´ë˜ìŠ¤ë¥¼ ë‚˜ëˆ„ê³  ìƒì†ì„ ì“°ë©´ ë˜ëŠ” ê±° ì•„ë‹Œê°€ìš”? ì™œ SOLIDê°€ ë˜ í•„ìš”í•˜ì£ ?"**

ì´ëŠ” ë§ì€ ê°œë°œìë“¤ì´ ê°€ì§€ëŠ” ìì—°ìŠ¤ëŸ¬ìš´ ì˜ë¬¸ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ OOPë§Œìœ¼ë¡œëŠ” **ê±´ê°•í•œ ì„¤ê³„**ë¥¼ ë³´ì¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

---

## ğŸ—ï¸ ì •ë‹µ: OOPëŠ” í† ëŒ€, SOLIDëŠ” ê±´ê°•í•œ ì„¤ê³„ ê°€ì´ë“œ

### ğŸ¢ ê±´ë¬¼ ê±´ì¶• ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°

| ê°œë… | ê±´ì¶• ë¹„ìœ  | ê°œë°œ ë¹„ìœ  | ì—­í•  |
|------|-----------|-----------|------|
| **OOP** | ğŸ—ï¸ **ê±´ì¶• êµ¬ì¡° (ê¸°ë‘¥, ë³´, ë²½)** | í´ë˜ìŠ¤, ê°ì²´, ìƒì†, ìº¡ìŠí™” | **ê¸°ë³¸ í† ëŒ€** |
| **SOLID** | ğŸ”§ **ê±´ì¶• ê·œë²” (ë‚´ì§„ì„¤ê³„, ì•ˆì „ê·œì •)** | ë‹¨ì¼ì±…ì„ì›ì¹™(SRP), ê°œë°©-íì‡„ì›ì¹™(OCP), ë¦¬ìŠ¤ì½”í”„, ì¸í„°í˜ì´ìŠ¤ë¶„ë¦¬, ì˜ì¡´ì—­ì „ | **í’ˆì§ˆ ê°€ì´ë“œë¼ì¸** |

### ì™œ ì´ ë¹„ìœ ê°€ ì¤‘ìš”í•œê°€?

- ê¸°ë‘¥ê³¼ ë²½ë§Œìœ¼ë¡œëŠ” ê±´ë¬¼ì´ ë¬´ë„ˆì§ˆ ìˆ˜ ìˆìŒ (OOPë§Œìœ¼ë¡œëŠ” ë¶€ì¡±)
- ê±´ì¶• ê·œë²”ì´ ìˆì–´ì•¼ ì•ˆì „í•˜ê³  ì˜¤ë˜ê°€ëŠ” ê±´ë¬¼ì´ ë¨ (SOLID í•„ìš”)
- **ë‘˜ ë‹¤ í•„ìš”í•˜ì§€ë§Œ ì—­í• ì´ ë‹¤ë¦„**

---

## ğŸ’¡ OOP vs OOP+SOLID ì‹¤ì œ ë¹„êµ

### ì‹œë‚˜ë¦¬ì˜¤: ì£¼ë¬¸ ì²˜ë¦¬ ì‹œìŠ¤í…œ

#### ğŸš¨ OOPë§Œ ì ìš©í•œ ê²½ìš°

```java
@Service
public class OrderService {
    
    // ëª¨ë“  ì˜ì¡´ì„±ì„ ì§ì ‘ ì°¸ì¡°
    private ProductRepository productRepository;
    private UserRepository userRepository;
    private PaymentGateway creditCardGateway;  // ì‹ ìš©ì¹´ë“œë§Œ ì§€ì›
    private EmailSender emailSender;          // ì´ë©”ì¼ë§Œ ì§€ì›
    
    public void processOrder(Long userId, Long productId) {
        // âŒ í•œ ë©”ì„œë“œì—ì„œ ëª¨ë“  ê²ƒì„ ì²˜ë¦¬
        User user = userRepository.findById(userId);
        Product product = productRepository.findById(productId);
        
        // ì¬ê³  í™•ì¸
        if (product.getStock() < 1) {
            throw new OutOfStockException();
        }
        
        // ì‹ ìš©ì¹´ë“œ ê²°ì œë§Œ ê°€ëŠ¥
        creditCardGateway.charge(user.getCreditCard(), product.getPrice());
        
        // ì¬ê³  ê°ì†Œ
        product.decreaseStock(1);
        productRepository.save(product);
        
        // ì´ë©”ì¼ ë°œì†¡ë§Œ ê°€ëŠ¥
        emailSender.send(user.getEmail(), "ì£¼ë¬¸ ì™„ë£Œ", "ì£¼ë¬¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
        
        // ì£¼ë¬¸ ì €ì¥
        Order order = new Order(userId, productId, LocalDateTime.now());
        // ... ì €ì¥ ë¡œì§
    }
}
```

**ğŸ”¥ ë¬¸ì œì ë“¤**:
- ê²°ì œ ë°©ì‹ ì¶”ê°€ ì‹œ â†’ **ì „ì²´ ì½”ë“œ ìˆ˜ì • í•„ìš”**
- SMS ì•Œë¦¼ ì¶”ê°€ ì‹œ â†’ **ë˜ ë‹¤ì‹œ ì „ì²´ ìˆ˜ì •**
- í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ì›€ â†’ **ì‹¤ì œ ê²°ì œê¹Œì§€ í…ŒìŠ¤íŠ¸**

#### âœ… OOP + SOLID ì ìš©í•œ ê²½ìš°

```java
// 1ï¸âƒ£ SRP: ê°ê°ì˜ ì±…ì„ì„ ë¶„ë¦¬
@Component
public class OrderValidator {
    public void validate(OrderRequest request) {
        // ì£¼ë¬¸ ìœ íš¨ì„± ê²€ì¦ë§Œ ë‹´ë‹¹
    }
}

@Component  
public class StockManager {
    public void reserveStock(String productId, int quantity) {
        // ì¬ê³  ê´€ë¦¬ë§Œ ë‹´ë‹¹
    }
}

// 2ï¸âƒ£ DIP: ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´
public interface PaymentProcessor {
    PaymentResult process(PaymentRequest request);
}

public interface NotificationSender {
    void sendOrderConfirmation(OrderConfirmation confirmation);
}

// 3ï¸âƒ£ OCP: í™•ì¥ì— ì—´ë ¤ìˆê³  ìˆ˜ì •ì— ë‹«í˜€ìˆìŒ
@Service
@RequiredArgsConstructor
public class OrderService {
    
    private final OrderValidator orderValidator;
    private final StockManager stockManager;
    private final PaymentProcessor paymentProcessor;  // êµ¬í˜„ì²´ì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
    private final NotificationSender notificationSender;  // í™•ì¥ ê°€ëŠ¥
    
    public OrderResult processOrder(OrderRequest request) {
        // ê° ë‹¨ê³„ë³„ë¡œ ëª…í™•í•˜ê²Œ ë¶„ë¦¬
        orderValidator.validate(request);
        stockManager.reserveStock(request.getProductId(), request.getQuantity());
        PaymentResult payment = paymentProcessor.process(request.toPaymentRequest());
        notificationSender.sendOrderConfirmation(OrderConfirmation.from(request, payment));
        
        return OrderResult.success(request, payment);
    }
}
```

**ğŸ‰ ì¥ì ë“¤**:
- ì¹´ì¹´ì˜¤í˜ì´ ì¶”ê°€ â†’ **êµ¬í˜„ì²´ë§Œ ì¶”ê°€, ê¸°ì¡´ ì½”ë“œ ë¬´ë³€ê²½**
- SMS ì•Œë¦¼ ì¶”ê°€ â†’ **NotificationSender êµ¬í˜„ì²´ë§Œ ì¶”ê°€**
- í…ŒìŠ¤íŠ¸ ìš©ì´ â†’ **Mock ê°ì²´ë¡œ ë…ë¦½ì  í…ŒìŠ¤íŠ¸**

---

## ğŸ¯ SOLID ê° ì›ì¹™ì˜ ì‹¤ì œ íš¨ê³¼

### 1. ğŸ¯ SRP (Single Responsibility Principle) - ë‹¨ì¼ ì±…ì„ ì›ì¹™

> **"í•˜ë‚˜ì˜ í´ë˜ìŠ¤ëŠ” í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°€ì ¸ì•¼ í•œë‹¤"**

#### âŒ SRP ìœ„ë°˜ ì‚¬ë¡€

```java
@Service
public class UserService {
    @Autowired
    private UserRepository userRepository;
    @Autowired 
    private EmailService emailService;
    @Autowired
    private AuditLogger auditLogger;
    
    // ì‚¬ìš©ì ìƒì„± (CRUD ì±…ì„)
    public User createUser(UserCreateRequest request) {
        // ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ ë¡œì§ (ê²€ì¦ ì±…ì„)
        if (request.getPassword().length() < 8) {
            throw new WeakPasswordException();
        }
        if (!request.getPassword().matches(".*[A-Z].*")) {
            throw new WeakPasswordException();
        }
        
        User user = User.builder()
                .email(request.getEmail())
                .password(encryptPassword(request.getPassword()))
                .build();
                
        User savedUser = userRepository.save(user);
        
        // í™˜ì˜ ì´ë©”ì¼ ë°œì†¡ (ì´ë©”ì¼ ì±…ì„)
        emailService.sendWelcomeEmail(savedUser.getEmail(), savedUser.getName());
        
        // ê°ì‚¬ ë¡œê·¸ ê¸°ë¡ (ë¡œê¹… ì±…ì„)
        auditLogger.logUserCreation(savedUser.getId(), LocalDateTime.now());
        
        return savedUser;
    }
    
    // ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” (ì•”í˜¸í™” ì±…ì„)
    private String encryptPassword(String password) {
        // ë³µì¡í•œ ì•”í˜¸í™” ë¡œì§...
        return BCrypt.hashpw(password, BCrypt.gensalt());
    }
    
    // ì‚¬ìš©ì ì¡°íšŒ (CRUD ì±…ì„)
    public User findUser(Long id) { ... }
    
    // ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì‹œ ì´ë©”ì¼ ì•Œë¦¼ (ì´ë©”ì¼ + CRUD ì±…ì„)
    public void changePassword(Long userId, String newPassword) {
        User user = userRepository.findById(userId)
                .orElseThrow(() -> new UserNotFoundException());
        
        // ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ (ê²€ì¦ ì±…ì„)
        validatePassword(newPassword);
        
        user.setPassword(encryptPassword(newPassword));
        userRepository.save(user);
        
        // ì´ë©”ì¼ ì•Œë¦¼ (ì´ë©”ì¼ ì±…ì„)
        emailService.sendPasswordChangeNotification(user.getEmail());
        
        // ê°ì‚¬ ë¡œê·¸ (ë¡œê¹… ì±…ì„)
        auditLogger.logPasswordChange(userId, LocalDateTime.now());
    }
}
```

**ğŸ”¥ ë¬¸ì œì ë“¤**:
- **ì—¬ëŸ¬ ì´ìœ ë¡œ ë³€ê²½ë¨**: ë¹„ë°€ë²ˆí˜¸ ì •ì±… ë³€ê²½, ì´ë©”ì¼ í…œí”Œë¦¿ ë³€ê²½, ë¡œê¹… ë°©ì‹ ë³€ê²½
- **í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€**: í•˜ë‚˜ì˜ ë©”ì„œë“œ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ëª¨ë“  ì˜ì¡´ì„± í•„ìš”
- **ì¬ì‚¬ìš© ë¶ˆê°€**: ë‹¤ë¥¸ ê³³ì—ì„œ ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ ë¡œì§ì„ ì“¸ ìˆ˜ ì—†ìŒ

#### âœ… SRP ì ìš© í›„

```java
// 1. ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ ì±…ì„ ë¶„ë¦¬
@Component
public class PasswordValidator {
    private static final int MIN_LENGTH = 8;
    private static final String UPPERCASE_PATTERN = ".*[A-Z].*";
    private static final String LOWERCASE_PATTERN = ".*[a-z].*";
    private static final String DIGIT_PATTERN = ".*[0-9].*";
    private static final String SPECIAL_CHAR_PATTERN = ".*[!@#$%^&*].*";
    
    public void validate(String password) {
        if (password == null || password.length() < MIN_LENGTH) {
            throw new WeakPasswordException("ë¹„ë°€ë²ˆí˜¸ëŠ” ìµœì†Œ " + MIN_LENGTH + "ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤");
        }
        
        if (!password.matches(UPPERCASE_PATTERN)) {
            throw new WeakPasswordException("ëŒ€ë¬¸ìë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤");
        }
        
        if (!password.matches(LOWERCASE_PATTERN)) {
            throw new WeakPasswordException("ì†Œë¬¸ìë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤");
        }
        
        if (!password.matches(DIGIT_PATTERN)) {
            throw new WeakPasswordException("ìˆ«ìë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤");
        }
        
        if (!password.matches(SPECIAL_CHAR_PATTERN)) {
            throw new WeakPasswordException("íŠ¹ìˆ˜ë¬¸ìë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤");
        }
    }
}

// 2. ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” ì±…ì„ ë¶„ë¦¬
@Component
public class PasswordEncoder {
    public String encode(String rawPassword) {
        return BCrypt.hashpw(rawPassword, BCrypt.gensalt(12));
    }
    
    public boolean matches(String rawPassword, String encodedPassword) {
        return BCrypt.checkpw(rawPassword, encodedPassword);
    }
}

// 3. ì‚¬ìš©ì ì´ë²¤íŠ¸ ë°œí–‰ ì±…ì„ ë¶„ë¦¬
@Component
@RequiredArgsConstructor
public class UserEventPublisher {
    private final ApplicationEventPublisher eventPublisher;
    
    public void publishUserCreated(User user) {
        eventPublisher.publishEvent(new UserCreatedEvent(user));
    }
    
    public void publishPasswordChanged(Long userId) {
        eventPublisher.publishEvent(new PasswordChangedEvent(userId));
    }
}

// 4. ì‚¬ìš©ì ë„ë©”ì¸ ì„œë¹„ìŠ¤ - ì˜¤ì§ ì‚¬ìš©ì CRUDë§Œ ë‹´ë‹¹
@Service
@RequiredArgsConstructor
public class UserService {
    private final UserRepository userRepository;
    private final PasswordValidator passwordValidator;
    private final PasswordEncoder passwordEncoder;
    private final UserEventPublisher eventPublisher;
    
    @Transactional
    public User createUser(UserCreateRequest request) {
        passwordValidator.validate(request.getPassword());
        
        User user = User.builder()
                .email(request.getEmail())
                .password(passwordEncoder.encode(request.getPassword()))
                .name(request.getName())
                .build();
                
        User savedUser = userRepository.save(user);
        eventPublisher.publishUserCreated(savedUser);
        
        return savedUser;
    }
    
    @Transactional
    public void changePassword(Long userId, String newPassword) {
        User user = userRepository.findById(userId)
                .orElseThrow(() -> new UserNotFoundException());
                
        passwordValidator.validate(newPassword);
        user.changePassword(passwordEncoder.encode(newPassword));
        
        userRepository.save(user);
        eventPublisher.publishPasswordChanged(userId);
    }
    
    @Transactional(readOnly = true)
    public User findUser(Long id) {
        return userRepository.findById(id)
                .orElseThrow(() -> new UserNotFoundException());
    }
}

// 5. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¡œ ë¶€ìˆ˜ íš¨ê³¼ ì²˜ë¦¬
@Component
@RequiredArgsConstructor
@EventListener
public class UserEventHandler {
    private final EmailService emailService;
    private final AuditLogger auditLogger;
    
    @EventListener
    @Async
    public void handleUserCreated(UserCreatedEvent event) {
        User user = event.getUser();
        
        // í™˜ì˜ ì´ë©”ì¼ ë°œì†¡
        emailService.sendWelcomeEmail(user.getEmail(), user.getName());
        
        // ê°ì‚¬ ë¡œê·¸ ê¸°ë¡
        auditLogger.logUserCreation(user.getId(), LocalDateTime.now());
    }
    
    @EventListener
    @Async
    public void handlePasswordChanged(PasswordChangedEvent event) {
        User user = userRepository.findById(event.getUserId())
                .orElseThrow(() -> new UserNotFoundException());
                
        // ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì•Œë¦¼
        emailService.sendPasswordChangeNotification(user.getEmail());
        
        // ê°ì‚¬ ë¡œê·¸ ê¸°ë¡
        auditLogger.logPasswordChange(event.getUserId(), LocalDateTime.now());
    }
}
```

**ğŸ‰ SRP ì ìš© í›„ ì¥ì ë“¤**:
- **ëª…í™•í•œ ì±…ì„**: ê° í´ë˜ìŠ¤ì˜ ì—­í• ì´ ëª…í™•í•¨
- **ì¬ì‚¬ìš© ê°€ëŠ¥**: `PasswordValidator`ë¥¼ ë‹¤ë¥¸ ê³³ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥
- **í…ŒìŠ¤íŠ¸ ìš©ì´**: ê° ì»´í¬ë„ŒíŠ¸ë¥¼ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸
- **ë³€ê²½ ì˜í–¥ ìµœì†Œí™”**: ë¹„ë°€ë²ˆí˜¸ ì •ì±… ë³€ê²½ ì‹œ `PasswordValidator`ë§Œ ìˆ˜ì •

---

### 2. ğŸšª OCP (Open-Closed Principle) - ê°œë°©-íì‡„ ì›ì¹™

> **"í™•ì¥ì—ëŠ” ì—´ë ¤ìˆê³ , ìˆ˜ì •ì—ëŠ” ë‹«í˜€ìˆì–´ì•¼ í•œë‹¤"**

#### âŒ OCP ìœ„ë°˜ ì‚¬ë¡€

```java
@Service
@RequiredArgsConstructor
public class PaymentService {
    
    // ê²°ì œ ë°©ì‹ì´ ì¶”ê°€ë  ë•Œë§ˆë‹¤ ì´ ë©”ì„œë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•¨
    public PaymentResult processPayment(PaymentRequest request) {
        switch (request.getPaymentType()) {
            case CREDIT_CARD:
                return processCreditCard(request);
            case BANK_TRANSFER:
                return processBankTransfer(request);
            case PAYPAL:
                return processPaypal(request);
            // ì¹´ì¹´ì˜¤í˜ì´ ì¶”ê°€ ì‹œ -> ì´ ë©”ì„œë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•¨!
            case KAKAO_PAY:
                return processKakaoPay(request);
            // ë„¤ì´ë²„í˜ì´ ì¶”ê°€ ì‹œ -> ë˜ ì´ ë©”ì„œë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•¨!
            case NAVER_PAY:
                return processNaverPay(request);
            default:
                throw new UnsupportedPaymentTypeException();
        }
    }
    
    private PaymentResult processCreditCard(PaymentRequest request) {
        // ì‹ ìš©ì¹´ë“œ ê²°ì œ ë¡œì§
        CreditCardGateway gateway = new CreditCardGateway();
        return gateway.charge(request.getAmount(), request.getCreditCardInfo());
    }
    
    private PaymentResult processBankTransfer(PaymentRequest request) {
        // ê³„ì¢Œì´ì²´ ë¡œì§
        BankTransferGateway gateway = new BankTransferGateway();
        return gateway.transfer(request.getAmount(), request.getBankInfo());
    }
    
    // ìƒˆ ê²°ì œ ë°©ì‹ë§ˆë‹¤ ë©”ì„œë“œê°€ ê³„ì† ì¶”ê°€ë¨...
    private PaymentResult processPaypal(PaymentRequest request) { ... }
    private PaymentResult processKakaoPay(PaymentRequest request) { ... }
    private PaymentResult processNaverPay(PaymentRequest request) { ... }
}
```

**ğŸ”¥ ë¬¸ì œì ë“¤**:
- **ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • í•„ìš”**: ìƒˆ ê²°ì œ ë°©ì‹ë§ˆë‹¤ `processPayment` ë©”ì„œë“œ ìˆ˜ì •
- **í´ë˜ìŠ¤ í¬ê¸° ì¦ê°€**: ê²°ì œ ë°©ì‹ì´ ëŠ˜ì–´ë‚ ìˆ˜ë¡ í´ë˜ìŠ¤ê°€ ê±°ëŒ€í•´ì§
- **í…ŒìŠ¤íŠ¸ ì˜í–¥**: ìƒˆ ê²°ì œ ë°©ì‹ ì¶”ê°€ ì‹œ ê¸°ì¡´ í…ŒìŠ¤íŠ¸ë„ ìˆ˜ì • í•„ìš”

#### âœ… OCP ì ìš© í›„

```java
// 1. ê²°ì œ ì²˜ë¦¬ê¸° ì¸í„°í˜ì´ìŠ¤ ì •ì˜
public interface PaymentProcessor {
    PaymentResult process(PaymentRequest request);
    boolean supports(PaymentType paymentType);
}

// 2. ê° ê²°ì œ ë°©ì‹ë³„ êµ¬í˜„ì²´
@Component
public class CreditCardProcessor implements PaymentProcessor {
    
    @Override
    public PaymentResult process(PaymentRequest request) {
        CreditCardGateway gateway = new CreditCardGateway();
        
        try {
            CreditCardPaymentResult result = gateway.charge(
                request.getAmount(), 
                request.getCreditCardInfo()
            );
            
            return PaymentResult.builder()
                    .transactionId(result.getTransactionId())
                    .status(PaymentStatus.SUCCESS)
                    .amount(request.getAmount())
                    .paymentType(PaymentType.CREDIT_CARD)
                    .processedAt(LocalDateTime.now())
                    .build();
                    
        } catch (CreditCardException e) {
            return PaymentResult.failure(e.getMessage());
        }
    }
    
    @Override
    public boolean supports(PaymentType paymentType) {
        return PaymentType.CREDIT_CARD.equals(paymentType);
    }
}

@Component  
public class BankTransferProcessor implements PaymentProcessor {
    
    @Override
    public PaymentResult process(PaymentRequest request) {
        BankTransferGateway gateway = new BankTransferGateway();
        
        try {
            BankTransferResult result = gateway.transfer(
                request.getAmount(),
                request.getBankInfo()
            );
            
            return PaymentResult.builder()
                    .transactionId(result.getTransactionId())
                    .status(PaymentStatus.SUCCESS)
                    .amount(request.getAmount())
                    .paymentType(PaymentType.BANK_TRANSFER)
                    .processedAt(LocalDateTime.now())
                    .build();
                    
        } catch (BankTransferException e) {
            return PaymentResult.failure(e.getMessage());
        }
    }
    
    @Override
    public boolean supports(PaymentType paymentType) {
        return PaymentType.BANK_TRANSFER.equals(paymentType);
    }
}

// 3. ìƒˆë¡œìš´ ê²°ì œ ë°©ì‹ ì¶”ê°€ - ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ì—†ìŒ!
@Component
public class KakaoPayProcessor implements PaymentProcessor {
    
    @Override
    public PaymentResult process(PaymentRequest request) {
        KakaoPayGateway gateway = new KakaoPayGateway();
        
        try {
            KakaoPayResult result = gateway.pay(
                request.getAmount(),
                request.getKakaoPayInfo()
            );
            
            return PaymentResult.builder()
                    .transactionId(result.getTid())
                    .status(PaymentStatus.SUCCESS)
                    .amount(request.getAmount())
                    .paymentType(PaymentType.KAKAO_PAY)
                    .processedAt(LocalDateTime.now())
                    .build();
                    
        } catch (KakaoPayException e) {
            return PaymentResult.failure(e.getMessage());
        }
    }
    
    @Override
    public boolean supports(PaymentType paymentType) {
        return PaymentType.KAKAO_PAY.equals(paymentType);
    }
}

// 4. ê²°ì œ ì„œë¹„ìŠ¤ - ìˆ˜ì •ì— ë‹«í˜€ìˆê³  í™•ì¥ì— ì—´ë ¤ìˆìŒ
@Service
@RequiredArgsConstructor
public class PaymentService {
    private final List<PaymentProcessor> paymentProcessors;
    
    public PaymentResult processPayment(PaymentRequest request) {
        PaymentProcessor processor = paymentProcessors.stream()
                .filter(p -> p.supports(request.getPaymentType()))
                .findFirst()
                .orElseThrow(() -> new UnsupportedPaymentTypeException(
                    "ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²°ì œ ë°©ì‹: " + request.getPaymentType()
                ));
                
        return processor.process(request);
    }
}
```

**ğŸ‰ OCP ì ìš© í›„ ì¥ì ë“¤**:
- **ê¸°ì¡´ ì½”ë“œ ë³´í˜¸**: ìƒˆ ê²°ì œ ë°©ì‹ ì¶”ê°€ ì‹œ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ë¶ˆí•„ìš”
- **í™•ì¥ ìš©ì´**: `PaymentProcessor` êµ¬í˜„ì²´ë§Œ ì¶”ê°€í•˜ë©´ ë¨
- **ë…ë¦½ì  ê°œë°œ**: ê° ê²°ì œ ë°©ì‹ì„ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œ/í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

---

### 3. ğŸ”„ LSP (Liskov Substitution Principle) - ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™

> **"ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ìì‹ í´ë˜ìŠ¤ë¡œ ì¹˜í™˜í•´ë„ í”„ë¡œê·¸ë¨ì´ ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•´ì•¼ í•œë‹¤"**

#### âŒ LSP ìœ„ë°˜ ì‚¬ë¡€

```java
// ê¸°ë³¸ í• ì¸ ì •ì±…
public class DiscountPolicy {
    public int calculateDiscount(int originalPrice) {
        return (int) (originalPrice * 0.1); // 10% í• ì¸
    }
}

// ë¬¸ì œìˆëŠ” ìƒì† - LSP ìœ„ë°˜
public class VipDiscountPolicy extends DiscountPolicy {
    @Override
    public int calculateDiscount(int originalPrice) {
        if (originalPrice < 50000) {
            // ë¶€ëª¨ì™€ ë‹¤ë¥¸ ì „ì œì¡°ê±´ - LSP ìœ„ë°˜!
            throw new IllegalArgumentException("VIP í• ì¸ì€ 5ë§Œì› ì´ìƒë¶€í„° ê°€ëŠ¥í•©ë‹ˆë‹¤");
        }
        return (int) (originalPrice * 0.2); // 20% í• ì¸
    }
}

// ë˜ ë‹¤ë¥¸ LSP ìœ„ë°˜
public class NoDiscountPolicy extends DiscountPolicy {
    @Override
    public int calculateDiscount(int originalPrice) {
        // ë¶€ëª¨ì™€ ë‹¤ë¥¸ í›„í–‰ì¡°ê±´ - í•­ìƒ 0 ë°˜í™˜
        return 0; // í• ì¸ ì—†ìŒ
    }
}

// í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ
@Service
public class OrderService {
    
    public OrderResult calculateOrder(List<OrderItem> items, User user) {
        int totalPrice = items.stream()
                .mapToInt(item -> item.getPrice() * item.getQuantity())
                .sum();
                
        DiscountPolicy discountPolicy = getDiscountPolicy(user);
        
        // LSP ìœ„ë°˜ìœ¼ë¡œ ì¸í•œ ë¬¸ì œ ë°œìƒ!
        int discount = discountPolicy.calculateDiscount(totalPrice); // ì˜ˆì™¸ ë°œìƒ ê°€ëŠ¥
        
        return new OrderResult(totalPrice, discount, totalPrice - discount);
    }
    
    private DiscountPolicy getDiscountPolicy(User user) {
        if (user.isVip()) {
            return new VipDiscountPolicy(); // 5ë§Œì› ë¯¸ë§Œ ì‹œ ì˜ˆì™¸ ë°œìƒ!
        }
        return new DiscountPolicy();
    }
}
```

**ğŸ”¥ ë¬¸ì œì ë“¤**:
- **ì˜ˆìƒì¹˜ ëª»í•œ ì˜ˆì™¸**: VIP í• ì¸ ì •ì±…ì—ì„œ ê°‘ìê¸° ì˜ˆì™¸ ë°œìƒ
- **ì¼ê´€ì„± ì—†ìŒ**: ê°™ì€ ì¸í„°í˜ì´ìŠ¤ì¸ë° ë‹¤ë¥¸ ë™ì‘ ë°©ì‹
- **ì¹˜í™˜ ë¶ˆê°€ëŠ¥**: ë¶€ëª¨ë¥¼ ìì‹ìœ¼ë¡œ ë°”ê¾¸ë©´ í”„ë¡œê·¸ë¨ì´ ê¹¨ì§

#### âœ… LSP ì ìš© í›„

```java
// í• ì¸ ì •ì±… ì¸í„°í˜ì´ìŠ¤ - ëª…í™•í•œ ê³„ì•½ ì •ì˜
public interface DiscountPolicy {
    /**
     * ì£¼ì–´ì§„ ê°€ê²©ì— ëŒ€í•œ í• ì¸ ê¸ˆì•¡ì„ ê³„ì‚°í•©ë‹ˆë‹¤.
     * @param originalPrice ì›ë˜ ê°€ê²© (0 ì´ìƒ)
     * @param user ì‚¬ìš©ì ì •ë³´
     * @return í• ì¸ ê¸ˆì•¡ (0 ì´ìƒ)
     * @throws IllegalArgumentException ê°€ê²©ì´ 0 ë¯¸ë§Œì¸ ê²½ìš°
     */
    int calculateDiscount(int originalPrice, User user);
    
    /**
     * ì´ í• ì¸ ì •ì±…ì´ ì ìš© ê°€ëŠ¥í•œì§€ í™•ì¸í•©ë‹ˆë‹¤.
     * @param user ì‚¬ìš©ì ì •ë³´
     * @param totalPrice ì´ ì£¼ë¬¸ ê¸ˆì•¡
     * @return ì ìš© ê°€ëŠ¥ ì—¬ë¶€
     */
    boolean isApplicable(User user, int totalPrice);
}

// ê¸°ë³¸ í• ì¸ ì •ì±…
@Component
public class RegularDiscountPolicy implements DiscountPolicy {
    private static final double DISCOUNT_RATE = 0.1;
    
    @Override
    public int calculateDiscount(int originalPrice, User user) {
        if (originalPrice < 0) {
            throw new IllegalArgumentException("ê°€ê²©ì€ 0 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤");
        }
        
        if (!isApplicable(user, originalPrice)) {
            return 0;
        }
        
        return (int) (originalPrice * DISCOUNT_RATE);
    }
    
    @Override
    public boolean isApplicable(User user, int totalPrice) {
        return !user.isVip() && totalPrice >= 10000; // 1ë§Œì› ì´ìƒ ì¼ë°˜ íšŒì›
    }
}

// VIP í• ì¸ ì •ì±… - LSP ì¤€ìˆ˜
@Component  
public class VipDiscountPolicy implements DiscountPolicy {
    private static final double DISCOUNT_RATE = 0.2;
    private static final int MIN_PRICE_FOR_VIP_DISCOUNT = 50000;
    
    @Override
    public int calculateDiscount(int originalPrice, User user) {
        if (originalPrice < 0) {
            throw new IllegalArgumentException("ê°€ê²©ì€ 0 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤");
        }
        
        // ì ìš© ë¶ˆê°€ëŠ¥í•œ ê²½ìš° ì˜ˆì™¸ê°€ ì•„ë‹Œ 0 ë°˜í™˜ - LSP ì¤€ìˆ˜
        if (!isApplicable(user, originalPrice)) {
            return 0;
        }
        
        return (int) (originalPrice * DISCOUNT_RATE);
    }
    
    @Override
    public boolean isApplicable(User user, int totalPrice) {
        return user.isVip() && totalPrice >= MIN_PRICE_FOR_VIP_DISCOUNT;
    }
}

// í• ì¸ ì—†ìŒ ì •ì±…
@Component
public class NoDiscountPolicy implements DiscountPolicy {
    
    @Override
    public int calculateDiscount(int originalPrice, User user) {
        if (originalPrice < 0) {
            throw new IllegalArgumentException("ê°€ê²©ì€ 0 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤");
        }
        return 0; // í•­ìƒ 0 ë°˜í™˜ - ì¼ê´€ì„± ìœ ì§€
    }
    
    @Override
    public boolean isApplicable(User user, int totalPrice) {
        return true; // í•­ìƒ ì ìš© ê°€ëŠ¥ (í• ì¸ ì—†ìŒì´ë¯€ë¡œ)
    }
}

// í• ì¸ ì •ì±… ê²°ì •ì
@Service
@RequiredArgsConstructor
public class DiscountPolicyDecider {
    private final List<DiscountPolicy> discountPolicies;
    
    public DiscountPolicy decide(User user, int totalPrice) {
        return discountPolicies.stream()
                .filter(policy -> policy.isApplicable(user, totalPrice))
                .findFirst()
                .orElse(new NoDiscountPolicy());
    }
}

// í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ - LSP ì¤€ìˆ˜ë¡œ ì•ˆì „í•¨
@Service
@RequiredArgsConstructor
public class OrderService {
    private final DiscountPolicyDecider discountPolicyDecider;
    
    public OrderResult calculateOrder(List<OrderItem> items, User user) {
        int totalPrice = items.stream()
                .mapToInt(item -> item.getPrice() * item.getQuantity())
                .sum();
                
        DiscountPolicy discountPolicy = discountPolicyDecider.decide(user, totalPrice);
        
        // ì–´ë–¤ êµ¬í˜„ì²´ë“  ì•ˆì „í•˜ê²Œ ì¹˜í™˜ ê°€ëŠ¥
        int discount = discountPolicy.calculateDiscount(totalPrice, user);
        
        return OrderResult.builder()
                .originalPrice(totalPrice)
                .discountAmount(discount)
                .finalPrice(totalPrice - discount)
                .appliedPolicy(discountPolicy.getClass().getSimpleName())
                .build();
    }
}
```

**ğŸ‰ LSP ì ìš© í›„ ì¥ì ë“¤**:
- **ì•ˆì „í•œ ì¹˜í™˜**: ì–´ë–¤ êµ¬í˜„ì²´ë“  ì˜ˆì™¸ ì—†ì´ ë™ì‘
- **ì¼ê´€ëœ ê³„ì•½**: ëª¨ë“  êµ¬í˜„ì²´ê°€ ë™ì¼í•œ ì „ì œ/í›„í–‰ ì¡°ê±´ ì¤€ìˆ˜
- **ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë™ì‘**: í´ë¼ì´ì–¸íŠ¸ ì½”ë“œê°€ ì•ˆì „í•¨

---

### 4. ğŸ§© ISP (Interface Segregation Principle) - ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™

> **"í´ë¼ì´ì–¸íŠ¸ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ë©´ ì•ˆ ëœë‹¤"**

#### âŒ ISP ìœ„ë°˜ ì‚¬ë¡€

```java
// ê±°ëŒ€í•œ ì¸í„°í˜ì´ìŠ¤ - ISP ìœ„ë°˜
public interface UserManager {
    // ì‚¬ìš©ì CRUD
    User createUser(UserCreateRequest request);
    User updateUser(Long id, UserUpdateRequest request);
    void deleteUser(Long id);
    User findUser(Long id);
    List<User> findAllUsers();
    
    // ì¸ì¦ ê´€ë ¨
    boolean authenticate(String email, String password);
    String generateToken(User user);
    void logout(String token);
    void resetPassword(String email);
    
    // ì´ë©”ì¼ ê´€ë ¨  
    void sendWelcomeEmail(User user);
    void sendPasswordResetEmail(String email);
    void sendPromotionEmail(List<User> users, String content);
    
    // í†µê³„ ê´€ë ¨
    int getTotalUserCount();
    List<User> getActiveUsers();
    Map<String, Integer> getUserStatsByRegion();
    
    // ê´€ë¦¬ì ì „ìš©
    void banUser(Long userId, String reason);
    void unbanUser(Long userId);
    List<User> getBannedUsers();
}

// ë¬¸ì œ: ì´ë©”ì¼ ë°œì†¡ë§Œ í•„ìš”í•œ í´ë¼ì´ì–¸íŠ¸ê°€ ëª¨ë“  ë©”ì„œë“œì— ì˜ì¡´
@Component
public class EmailNotificationService {
    private final UserManager userManager; // ê±°ëŒ€í•œ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´
    
    public void sendMonthlyNewsletter() {
        List<User> users = userManager.findAllUsers();
        // ì‹¤ì œë¡œëŠ” sendPromotionEmailë§Œ í•„ìš”í•˜ì§€ë§Œ 
        // ê±°ëŒ€í•œ ì¸í„°í˜ì´ìŠ¤ ì „ì²´ì— ì˜ì¡´
        userManager.sendPromotionEmail(users, "ì›”ê°„ ë‰´ìŠ¤ë ˆí„°");
    }
}

// ë¬¸ì œ: ì‚¬ìš©ì ì¡°íšŒë§Œ í•„ìš”í•œ í´ë¼ì´ì–¸íŠ¸ê°€ ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„±ì„ ê°€ì§
@Controller
public class UserController {
    private final UserManager userManager; // ê±°ëŒ€í•œ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´
    
    @GetMapping("/users/{id}")
    public ResponseEntity<User> getUser(@PathVariable Long id) {
        // findUserë§Œ í•„ìš”í•˜ì§€ë§Œ ì „ì²´ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´
        User user = userManager.findUser(id);
        return ResponseEntity.ok(user);
    }
}
```

**ğŸ”¥ ë¬¸ì œì ë“¤**:
- **ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„±**: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œê¹Œì§€ ì˜ì¡´
- **ë³€ê²½ ì˜í–¥ í™•ì‚°**: ì¸í„°í˜ì´ìŠ¤ ë³€ê²½ ì‹œ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ ì˜í–¥
- **êµ¬í˜„ ë¶€ë‹´**: êµ¬í˜„ì²´ì—ì„œ ëª¨ë“  ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•¨

#### âœ… ISP ì ìš© í›„

```java
// 1. ì‚¬ìš©ì CRUD ì „ìš© ì¸í„°í˜ì´ìŠ¤
public interface UserRepository {
    User save(User user);
    User findById(Long id);
    List<User> findAll();
    void deleteById(Long id);
    boolean existsById(Long id);
}

// 2. ì¸ì¦ ì „ìš© ì¸í„°í˜ì´ìŠ¤  
public interface AuthenticationService {
    boolean authenticate(String email, String password);
    String generateToken(User user);
    void logout(String token);
    void resetPassword(String email);
}

// 3. ì´ë©”ì¼ ì „ìš© ì¸í„°í˜ì´ìŠ¤
public interface UserEmailService {
    void sendWelcomeEmail(User user);
    void sendPasswordResetEmail(String email);
    void sendPromotionEmail(List<User> users, String content);
}

// 4. ì‚¬ìš©ì í†µê³„ ì „ìš© ì¸í„°í˜ì´ìŠ¤
public interface UserStatisticsService {
    int getTotalUserCount();
    List<User> getActiveUsers();
    Map<String, Integer> getUserStatsByRegion();
    List<User> getUsersRegisteredBetween(LocalDate start, LocalDate end);
}

// 5. ê´€ë¦¬ì ì „ìš© ì¸í„°í˜ì´ìŠ¤
public interface UserAdminService {
    void banUser(Long userId, String reason);
    void unbanUser(Long userId);
    List<User> getBannedUsers();
    void sendWarningToUser(Long userId, String message);
}

// 6. ì‚¬ìš©ì ë„ë©”ì¸ ì„œë¹„ìŠ¤
@Service
@RequiredArgsConstructor
public class UserService {
    private final UserRepository userRepository;
    private final PasswordEncoder passwordEncoder;
    private final UserEventPublisher eventPublisher;
    
    @Transactional
    public User createUser(UserCreateRequest request) {
        User user = User.builder()
                .email(request.getEmail())
                .password(passwordEncoder.encode(request.getPassword()))
                .name(request.getName())
                .build();
                
        User savedUser = userRepository.save(user);
        eventPublisher.publishUserCreated(savedUser);
        
        return savedUser;
    }
    
    @Transactional(readOnly = true)
    public User findUser(Long id) {
        return userRepository.findById(id)
                .orElseThrow(() -> new UserNotFoundException());
    }
}

// ê° í´ë¼ì´ì–¸íŠ¸ëŠ” í•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤ë§Œ ì˜ì¡´
@Component
@RequiredArgsConstructor
public class EmailNotificationService {
    private final UserEmailService userEmailService; // ì´ë©”ì¼ ì¸í„°í˜ì´ìŠ¤ë§Œ ì˜ì¡´
    private final UserRepository userRepository; // ì‚¬ìš©ì ì¡°íšŒ ì¸í„°í˜ì´ìŠ¤ë§Œ ì˜ì¡´
    
    public void sendMonthlyNewsletter() {
        List<User> users = userRepository.findAll();
        userEmailService.sendPromotionEmail(users, "ì›”ê°„ ë‰´ìŠ¤ë ˆí„°");
    }
}

@Controller
@RequiredArgsConstructor
public class UserController {
    private final UserService userService; // í•„ìš”í•œ ì„œë¹„ìŠ¤ë§Œ ì˜ì¡´
    
    @GetMapping("/users/{id}")
    public ResponseEntity<User> getUser(@PathVariable Long id) {
        User user = userService.findUser(id);
        return ResponseEntity.ok(user);
    }
}

@Controller
@RequiredArgsConstructor
public class AdminController {
    private final UserAdminService adminService; // ê´€ë¦¬ì ì¸í„°í˜ì´ìŠ¤ë§Œ ì˜ì¡´
    private final UserStatisticsService statsService; // í†µê³„ ì¸í„°í˜ì´ìŠ¤ë§Œ ì˜ì¡´
    
    @PostMapping("/admin/users/{id}/ban")
    public ResponseEntity<Void> banUser(
            @PathVariable Long id, 
            @RequestBody BanRequest request) {
        adminService.banUser(id, request.getReason());
        return ResponseEntity.ok().build();
    }
    
    @GetMapping("/admin/users/stats")
    public ResponseEntity<UserStats> getUserStats() {
        UserStats stats = UserStats.builder()
                .totalCount(statsService.getTotalUserCount())
                .activeUsers(statsService.getActiveUsers().size())
                .regionStats(statsService.getUserStatsByRegion())
                .build();
        return ResponseEntity.ok(stats);
    }
}
```

**ğŸ‰ ISP ì ìš© í›„ ì¥ì ë“¤**:
- **í•„ìš”í•œ ì˜ì¡´ì„±ë§Œ**: ê° í´ë¼ì´ì–¸íŠ¸ê°€ ì‹¤ì œ ì‚¬ìš©í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë§Œ ì˜ì¡´
- **ë³€ê²½ ì˜í–¥ ìµœì†Œí™”**: ì¸í„°í˜ì´ìŠ¤ ë³€ê²½ ì‹œ í•´ë‹¹ í´ë¼ì´ì–¸íŠ¸ë§Œ ì˜í–¥
- **êµ¬í˜„ ë‹¨ìˆœí™”**: ê° ì¸í„°í˜ì´ìŠ¤ë³„ë¡œ ë…ë¦½ì ì¸ êµ¬í˜„ì²´ ì‘ì„± ê°€ëŠ¥

---

### 5. â¬‡ï¸ DIP (Dependency Inversion Principle) - ì˜ì¡´ê´€ê³„ ì—­ì „ ì›ì¹™

> **"ê³ ìˆ˜ì¤€ ëª¨ë“ˆì€ ì €ìˆ˜ì¤€ ëª¨ë“ˆì— ì˜ì¡´í•´ì„œëŠ” ì•ˆ ëœë‹¤. ë‘˜ ë‹¤ ì¶”ìƒí™”ì— ì˜ì¡´í•´ì•¼ í•œë‹¤"**

#### âŒ DIP ìœ„ë°˜ ì‚¬ë¡€

```java
// ì €ìˆ˜ì¤€ ëª¨ë“ˆë“¤ (êµ¬ì²´ì ì¸ êµ¬í˜„)
public class MySqlUserRepository {
    public User save(User user) {
        // MySQL íŠ¹í™” ì €ì¥ ë¡œì§
        String sql = "INSERT INTO users (name, email) VALUES (?, ?)";
        // JDBC ì½”ë“œ...
        return user;
    }
    
    public User findById(Long id) {
        // MySQL íŠ¹í™” ì¡°íšŒ ë¡œì§
        String sql = "SELECT * FROM users WHERE id = ?";
        // JDBC ì½”ë“œ...
        return user;
    }
}

public class SmtpEmailService {
    public void sendEmail(String to, String subject, String content) {
        // SMTP íŠ¹í™” ì´ë©”ì¼ ë°œì†¡ ë¡œì§
        Properties props = new Properties();
        props.put("mail.smtp.host", "smtp.gmail.com");
        // JavaMail ì½”ë“œ...
    }
}

// ê³ ìˆ˜ì¤€ ëª¨ë“ˆì´ ì €ìˆ˜ì¤€ ëª¨ë“ˆì— ì§ì ‘ ì˜ì¡´ - DIP ìœ„ë°˜
@Service
public class UserService {
    // êµ¬ì²´ì ì¸ êµ¬í˜„ì²´ì— ì§ì ‘ ì˜ì¡´!
    private final MySqlUserRepository userRepository;
    private final SmtpEmailService emailService;
    
    public UserService() {
        // ìƒì„±ìì—ì„œ ì§ì ‘ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± - ê°•í•œ ê²°í•©!
        this.userRepository = new MySqlUserRepository();
        this.emailService = new SmtpEmailService();
    }
    
    public User createUser(String name, String email) {
        User user = new User(name, email);
        
        // MySQLì— ê°•í•˜ê²Œ ê²°í•©
        User savedUser = userRepository.save(user);
        
        // SMTPì— ê°•í•˜ê²Œ ê²°í•©  
        emailService.sendEmail(
            savedUser.getEmail(), 
            "í™˜ì˜í•©ë‹ˆë‹¤", 
            "ê°€ì…ì„ í™˜ì˜í•©ë‹ˆë‹¤"
        );
        
        return savedUser;
    }
}

// ë˜ ë‹¤ë¥¸ DIP ìœ„ë°˜ - ê²°ì œ ì„œë¹„ìŠ¤
@Service  
public class PaymentService {
    // êµ¬ì²´ì ì¸ PGì‚¬ì— ì§ì ‘ ì˜ì¡´
    private final IamportPaymentGateway iamportGateway;
    
    public PaymentService() {
        this.iamportGateway = new IamportPaymentGateway();
    }
    
    public PaymentResult processPayment(PaymentRequest request) {
        // ì•„ì„í¬íŠ¸ì—ë§Œ ì˜ì¡´ - ë‹¤ë¥¸ PGë¡œ ë³€ê²½ ì‹œ ì „ì²´ ìˆ˜ì • í•„ìš”
        return iamportGateway.charge(request.getAmount(), request.getCardInfo());
    }
}
```

**ğŸ”¥ ë¬¸ì œì ë“¤**:
- **ê°•í•œ ê²°í•©**: êµ¬ì²´ êµ¬í˜„ì— ì§ì ‘ ì˜ì¡´í•˜ì—¬ ë³€ê²½ì´ ì–´ë ¤ì›€
- **í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€**: ì‹¤ì œ MySQL, SMTPë¥¼ ì‚¬ìš©í•´ì•¼ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
- **í™•ì¥ì„± ë¶€ì¡±**: ë‹¤ë¥¸ êµ¬í˜„ì²´ë¡œ ë³€ê²½ ì‹œ ì½”ë“œ ì „ì²´ ìˆ˜ì • í•„ìš”

#### âœ… DIP ì ìš© í›„

```java
// 1. ê³ ìˆ˜ì¤€ì—ì„œ ì •ì˜í•œ ì¶”ìƒí™” (ì¸í„°í˜ì´ìŠ¤)
public interface UserRepository {
    User save(User user);
    User findById(Long id);
    List<User> findAll();
    boolean existsByEmail(String email);
}

public interface EmailService {
    void sendEmail(EmailMessage message);
}

public interface PaymentGateway {
    PaymentResult charge(PaymentRequest request);
    PaymentResult refund(String transactionId, int amount);
}

// 2. ê³ ìˆ˜ì¤€ ëª¨ë“ˆ - ì¶”ìƒí™”ì—ë§Œ ì˜ì¡´
@Service
@RequiredArgsConstructor  // ìƒì„±ì ì£¼ì…
public class UserService {
    // ì¶”ìƒí™”(ì¸í„°í˜ì´ìŠ¤)ì— ì˜ì¡´
    private final UserRepository userRepository;
    private final EmailService emailService;
    private final PasswordEncoder passwordEncoder;
    
    @Transactional
    public User createUser(UserCreateRequest request) {
        // ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸
        if (userRepository.existsByEmail(request.getEmail())) {
            throw new DuplicateEmailException();
        }
        
        User user = User.builder()
                .name(request.getName())
                .email(request.getEmail())
                .password(passwordEncoder.encode(request.getPassword()))
                .build();
        
        // ì¶”ìƒí™”ë¥¼ í†µí•œ ì €ì¥
        User savedUser = userRepository.save(user);
        
        // ì¶”ìƒí™”ë¥¼ í†µí•œ ì´ë©”ì¼ ë°œì†¡
        EmailMessage welcomeMessage = EmailMessage.builder()
                .to(savedUser.getEmail())
                .subject("í™˜ì˜í•©ë‹ˆë‹¤!")
                .content("ê°€ì…ì„ í™˜ì˜í•©ë‹ˆë‹¤, " + savedUser.getName() + "ë‹˜!")
                .build();
                
        emailService.sendEmail(welcomeMessage);
        
        return savedUser;
    }
}

@Service
@RequiredArgsConstructor
public class PaymentService {
    // ì¶”ìƒí™”ì— ì˜ì¡´
    private final PaymentGateway paymentGateway;
    
    @Transactional
    public PaymentResult processPayment(PaymentRequest request) {
        try {
            // ì–´ë–¤ PGì‚¬ë“  ë™ì¼í•œ ì¸í„°í˜ì´ìŠ¤ë¡œ ì²˜ë¦¬
            return paymentGateway.charge(request);
        } catch (PaymentException e) {
            throw new PaymentProcessingException("ê²°ì œ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤", e);
        }
    }
    
    @Transactional
    public PaymentResult processRefund(String transactionId, int amount) {
        return paymentGateway.refund(transactionId, amount);
    }
}

// 3. ì €ìˆ˜ì¤€ ëª¨ë“ˆë“¤ - ì¶”ìƒí™”ë¥¼ êµ¬í˜„
@Repository
public class MySqlUserRepository implements UserRepository {
    
    @Override
    public User save(User user) {
        // MySQL JPA êµ¬í˜„
        return userJpaRepository.save(user);
    }
    
    @Override
    public User findById(Long id) {
        return userJpaRepository.findById(id)
                .orElseThrow(() -> new UserNotFoundException());
    }
    
    @Override
    public boolean existsByEmail(String email) {
        return userJpaRepository.existsByEmail(email);
    }
}

// ë‹¤ë¥¸ DB êµ¬í˜„ì²´ë„ ì‰½ê²Œ ì¶”ê°€ ê°€ëŠ¥
@Repository
@Profile("mongodb")
public class MongoUserRepository implements UserRepository {
    
    @Override  
    public User save(User user) {
        // MongoDB êµ¬í˜„
        return mongoTemplate.save(user);
    }
    
    @Override
    public User findById(Long id) {
        return mongoTemplate.findById(id, User.class);
    }
}

@Service
public class SmtpEmailService implements EmailService {
    
    @Override
    public void sendEmail(EmailMessage message) {
        // SMTP êµ¬í˜„
        SimpleMailMessage mailMessage = new SimpleMailMessage();
        mailMessage.setTo(message.getTo());
        mailMessage.setSubject(message.getSubject());
        mailMessage.setText(message.getContent());
        
        mailSender.send(mailMessage);
    }
}

// ë‹¤ë¥¸ ì´ë©”ì¼ ì„œë¹„ìŠ¤ë„ ì‰½ê²Œ ì¶”ê°€
@Service
@Profile("ses")
public class AwsSesEmailService implements EmailService {
    
    @Override
    public void sendEmail(EmailMessage message) {
        // AWS SES êµ¬í˜„
        SendEmailRequest request = SendEmailRequest.builder()
                .destination(Destination.builder().toAddresses(message.getTo()).build())
                .message(Message.builder()
                        .subject(Content.builder().data(message.getSubject()).build())
                        .body(Body.builder().text(Content.builder().data(message.getContent()).build()).build())
                        .build())
                .source(fromEmail)
                .build();
                
        sesClient.sendEmail(request);
    }
}

@Service
public class IamportPaymentGateway implements PaymentGateway {
    
    @Override
    public PaymentResult charge(PaymentRequest request) {
        // ì•„ì„í¬íŠ¸ API í˜¸ì¶œ
        IamportResponse<Payment> response = iamportClient.paymentByImpUid(request.getImpUid());
        
        return PaymentResult.builder()
                .transactionId(response.getResponse().getImpUid())
                .status(convertStatus(response.getResponse().getStatus()))
                .amount(response.getResponse().getAmount().intValue())
                .build();
    }
}

// ë‹¤ë¥¸ PGì‚¬ë„ ì‰½ê²Œ ì¶”ê°€
@Service
@Profile("toss")
public class TossPaymentGateway implements PaymentGateway {
    
    @Override
    public PaymentResult charge(PaymentRequest request) {
        // í† ìŠ¤í˜ì´ë¨¼ì¸  API í˜¸ì¶œ
        // ...
    }
}
```

**ğŸ‰ DIP ì ìš© í›„ ì¥ì ë“¤**:
- **ëŠìŠ¨í•œ ê²°í•©**: êµ¬í˜„ì²´ ë³€ê²½ ì‹œ ê³ ìˆ˜ì¤€ ëª¨ë“ˆ ìˆ˜ì • ë¶ˆí•„ìš”
- **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**: Mock ê°ì²´ë¡œ ì‰½ê²Œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
- **í™•ì¥ì„±**: ìƒˆë¡œìš´ êµ¬í˜„ì²´ ì¶”ê°€ê°€ ë§¤ìš° ì‰¬ì›€
- **ì„¤ì • ê¸°ë°˜ ì „í™˜**: Profileì´ë‚˜ ì„¤ì •ìœ¼ë¡œ êµ¬í˜„ì²´ ë³€ê²½ ê°€ëŠ¥

```java
// í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ
@ExtendWith(MockitoExtension.class)
class UserServiceTest {
    
    @Mock
    private UserRepository userRepository;
    
    @Mock
    private EmailService emailService;
    
    @Mock
    private PasswordEncoder passwordEncoder;
    
    @InjectMocks
    private UserService userService;
    
    @Test
    void createUser_ì„±ê³µ() {
        // given
        UserCreateRequest request = new UserCreateRequest("í…ŒìŠ¤íŠ¸", "test@test.com", "password");
        when(userRepository.existsByEmail(request.getEmail())).thenReturn(false);
        when(passwordEncoder.encode(request.getPassword())).thenReturn("encodedPassword");
        
        User savedUser = User.builder()
                .id(1L)
                .name(request.getName())
                .email(request.getEmail())
                .build();
        when(userRepository.save(any(User.class))).thenReturn(savedUser);
        
        // when
        User result = userService.createUser(request);
        
        // then
        assertThat(result.getName()).isEqualTo("í…ŒìŠ¤íŠ¸");
        verify(emailService).sendEmail(any(EmailMessage.class));
    }
}
```

---

## âš–ï¸ ì–¸ì œ SOLIDë¥¼ ì ìš©í•´ì•¼ í• ê¹Œ?

### ğŸŸ¢ SOLID ì ê·¹ ì ìš© ìƒí™©

```java
// ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ê°€ì§„ ì£¼ë¬¸ ì²˜ë¦¬ ì‹œìŠ¤í…œ
@Service
@RequiredArgsConstructor
public class OrderProcessingService {
    // ì—¬ëŸ¬ ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ì—°ë™
    private final PaymentGateway paymentGateway;
    private final InventoryService inventoryService;
    private final ShippingService shippingService;
    private final NotificationService notificationService;
    private final LoyaltyService loyaltyService;
    
    @Transactional
    public OrderResult processOrder(OrderRequest request) {
        // ë³µì¡í•œ ì£¼ë¬¸ ì²˜ë¦¬ í”Œë¡œìš°
        // 1. ì¬ê³  í™•ì¸ ë° ì˜ˆì•½
        // 2. ê²°ì œ ì²˜ë¦¬
        // 3. ë°°ì†¡ ìš”ì²­  
        // 4. í¬ì¸íŠ¸ ì ë¦½
        // 5. ì•Œë¦¼ ë°œì†¡
        // ê° ë‹¨ê³„ë§ˆë‹¤ ë‹¤ì–‘í•œ ì˜ˆì™¸ ìƒí™© ì²˜ë¦¬
    }
}
```

**ì ìš© ì‹ í˜¸ë“¤**:
- **ë†’ì€ ë³µì¡ë„**: í´ë˜ìŠ¤ê°€ 100ì¤„ ì´ìƒ, ë©”ì„œë“œê°€ 20ì¤„ ì´ìƒ
- **ë‹¤ì–‘í•œ ë³€ê²½ ìš”ì¸**: ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™, ì™¸ë¶€ ì‹œìŠ¤í…œ, UI ìš”êµ¬ì‚¬í•­ ë³€ê²½
- **í™•ì¥ ê³„íš**: ìƒˆë¡œìš´ ê²°ì œ ë°©ì‹, ë°°ì†¡ì—…ì²´, ì•Œë¦¼ ì±„ë„ ì¶”ê°€ ì˜ˆì •
- **íŒ€ ê·œëª¨**: 3ëª… ì´ìƒì˜ ê°œë°œìê°€ ë™ì‹œì— ì‘ì—…

### ğŸŸ¡ SOLID ì„ íƒì  ì ìš© ìƒí™©

```java
// ì¤‘ê°„ ë³µì¡ë„ì˜ ì‚¬ìš©ì ê´€ë¦¬ ì‹œìŠ¤í…œ
@Service
@RequiredArgsConstructor  
public class UserService {
    private final UserRepository userRepository;
    private final PasswordEncoder passwordEncoder;
    
    public User createUser(UserCreateRequest request) {
        // ì ë‹¹í•œ ë³µì¡ë„ì˜ ë¡œì§
        validateUserRequest(request);
        User user = buildUser(request);
        return userRepository.save(user);
    }
    
    private void validateUserRequest(UserCreateRequest request) {
        // ê²€ì¦ ë¡œì§ (10ì¤„ ë‚´ì™¸)
    }
    
    private User buildUser(UserCreateRequest request) {
        // ìƒì„± ë¡œì§ (5ì¤„ ë‚´ì™¸)
    }
}
```

**ì ìš© ê³ ë ¤ ì‚¬í•­**:
- **DIP ìš°ì„  ì ìš©**: í…ŒìŠ¤íŠ¸ ìš©ì´ì„±ì„ ìœ„í•´
- **SRP ë¶€ë¶„ ì ìš©**: ë„ˆë¬´ í° í´ë˜ìŠ¤ë§Œ ë¶„ë¦¬
- **OCPëŠ” í™•ì¥ ê³„íšì´ ìˆì„ ë•Œë§Œ**

### ğŸ”´ SOLID ìµœì†Œ ì ìš© ìƒí™©

```java
// ë‹¨ìˆœí•œ CRUD ì„œë¹„ìŠ¤
@Service
@RequiredArgsConstructor
public class ProductService {
    private final ProductRepository repository;
    
    public Product save(Product product) {
        return repository.save(product);
    }
    
    public Product findById(Long id) {
        return repository.findById(id)
                .orElseThrow(() -> new ProductNotFoundException(id));
    }
    
    public void deleteById(Long id) {
        repository.deleteById(id);
    }
}
```

**ìµœì†Œ ì ìš© ê¸°ì¤€**:
- **DIPë§Œ ì ìš©**: Springì˜ ì˜ì¡´ì„± ì£¼ì… í™œìš©
- **ë‚˜ë¨¸ì§€ ì›ì¹™ì€ ê³¼ë„í•œ ì„¤ê³„**: ë‹¨ìˆœí•¨ì´ ë” ë‚˜ìŒ

---

## ğŸš¨ ìì£¼ í•˜ëŠ” ì‹¤ìˆ˜ë“¤ê³¼ í•´ê²°ì±…

### âŒ ì‹¤ìˆ˜ 1: ê³¼ë„í•œ ì¶”ìƒí™”

```java
// ë¶ˆí•„ìš”í•œ ì¶”ìƒí™”ì˜ ì˜ˆ
public interface StringProcessor {
    String process(String input);
}

@Component
public class StringTrimmer implements StringProcessor {
    public String process(String input) {
        return input.trim();
    }
}

@Component  
public class StringUpperCaser implements StringProcessor {
    public String process(String input) {
        return input.toUpperCase();
    }
}

// ì´ëŸ° ë‹¨ìˆœí•œ ê¸°ëŠ¥ê¹Œì§€ ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“¤ í•„ìš” ì—†ìŒ
```

#### âœ… í•´ê²°ì±…: ì ì ˆí•œ ìˆ˜ì¤€ì˜ ì¶”ìƒí™”

```java
// ìœ í‹¸ë¦¬í‹°ì„± ê¸°ëŠ¥ì€ ì •ì  ë©”ì„œë“œë‚˜ ê°„ë‹¨í•œ ì»´í¬ë„ŒíŠ¸ë¡œ
@Component
public class StringUtils {
    public String cleanAndFormat(String input) {
        if (input == null) return "";
        return input.trim().toUpperCase();
    }
}
```

### âŒ ì‹¤ìˆ˜ 2: ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´ 1:1 ë§¤ì¹­

```java
// ì˜ë¯¸ì—†ëŠ” 1:1 ì¸í„°í˜ì´ìŠ¤
public interface UserService {
    User createUser(UserCreateRequest request);
}

@Service
public class UserServiceImpl implements UserService {
    // êµ¬í˜„ì²´ê°€ í•˜ë‚˜ë¿ì¸ë° êµ³ì´ ì¸í„°í˜ì´ìŠ¤?
}
```

#### âœ… í•´ê²°ì±…: í•„ìš”ì‹œì—ë§Œ ì¸í„°í˜ì´ìŠ¤ ìƒì„±

```java
// êµ¬í˜„ì²´ê°€ í•˜ë‚˜ë¿ì´ê³  í™•ì¥ ê³„íšì´ ì—†ë‹¤ë©´ ì¸í„°í˜ì´ìŠ¤ ë¶ˆí•„ìš”
@Service
public class UserService {
    public User createUser(UserCreateRequest request) {
        // êµ¬í˜„ ë¡œì§
    }
}

// í™•ì¥ ê³„íšì´ ìˆê±°ë‚˜ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ Mockì´ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©
```

### âŒ ì‹¤ìˆ˜ 3: God Object ë°©ì§€ë¥¼ ìœ„í•œ ê³¼ë„í•œ ë¶„ë¦¬

```java
// ë„ˆë¬´ ì„¸ë¶„í™”ëœ ë¶„ë¦¬
@Component
public class UserNameValidator { }     // ì´ë¦„ ê²€ì¦ë§Œ
@Component  
public class UserEmailValidator { }    // ì´ë©”ì¼ ê²€ì¦ë§Œ
@Component
public class UserPhoneValidator { }    // ì „í™”ë²ˆí˜¸ ê²€ì¦ë§Œ
@Component
public class UserAgeValidator { }      // ë‚˜ì´ ê²€ì¦ë§Œ

// ì˜¤íˆë ¤ ë³µì¡ë„ë§Œ ì¦ê°€
```

#### âœ… í•´ê²°ì±…: ê´€ë ¨ìˆëŠ” ì±…ì„ì€ í•¨ê»˜ ë¬¶ê¸°

```java
@Component
public class UserValidator {
    public void validate(User user) {
        validateName(user.getName());
        validateEmail(user.getEmail());
        validatePhone(user.getPhone());
        validateAge(user.getAge());
    }
    
    private void validateName(String name) { }
    private void validateEmail(String email) { }
    private void validatePhone(String phone) { }
    private void validateAge(int age) { }
}
```

---

## ğŸ“ ì‹¤ë¬´ ì ìš© ë¡œë“œë§µ

### ğŸƒâ€â™‚ï¸ 1ë‹¨ê³„: ê¸°ì´ˆ ë‹¤ì§€ê¸° (1-2ì£¼)

#### DIPë¶€í„° ì‹œì‘
```java
// Before: êµ¬ì²´ í´ë˜ìŠ¤ì— ì˜ì¡´
@Service
public class OrderService {
    private MySqlOrderRepository repository = new MySqlOrderRepository();
}

// After: ì¶”ìƒí™”ì— ì˜ì¡´
@Service
@RequiredArgsConstructor
public class OrderService {
    private final OrderRepository repository; // ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´
}
```

### ğŸš¶â€â™‚ï¸ 2ë‹¨ê³„: ì±…ì„ ë¶„ë¦¬ (2-3ì£¼)

#### SRP ì ìš©ìœ¼ë¡œ í° í´ë˜ìŠ¤ ë¶„í•´
```java
// Before: í•˜ë‚˜ì˜ ì„œë¹„ìŠ¤ê°€ ëª¨ë“  ì¼ì„ ë‹´ë‹¹
@Service
public class OrderService {
    // ì£¼ë¬¸ ìƒì„± + ê²°ì œ + ì¬ê³ ê´€ë¦¬ + ì´ë©”ì¼ ë°œì†¡ + ë¡œê¹… (200ì¤„)
}

// After: ì±…ì„ë³„ë¡œ ë¶„ë¦¬
@Service
public class OrderService {
    private final OrderValidator validator;
    private final PaymentService paymentService;
    private final InventoryService inventoryService;
    // ê°ê° ëª…í™•í•œ ì±…ì„
}
```

### ğŸƒâ€â™‚ï¸ 3ë‹¨ê³„: í™•ì¥ì„± ê³ ë ¤ (3-4ì£¼)

#### OCP ì ìš©ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°
```java
// ìƒˆë¡œìš´ ê²°ì œ ë°©ì‹, ì•Œë¦¼ ë°©ì‹ì„ ì‰½ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°
public interface PaymentProcessor {
    PaymentResult process(PaymentRequest request);
}

@Service
public class PaymentService {
    private final List<PaymentProcessor> processors;
    
    public PaymentResult process(PaymentRequest request) {
        // ì ì ˆí•œ processor ì„ íƒí•´ì„œ ì²˜ë¦¬
    }
}
```

### ğŸ”„ 4ë‹¨ê³„: ì§€ì†ì  ê°œì„ 

#### ì½”ë“œ ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] **SRP**: ì´ í´ë˜ìŠ¤ê°€ ë³€ê²½ë˜ëŠ” ì´ìœ ê°€ 2ê°œ ì´ìƒì¸ê°€?
- [ ] **OCP**: ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•˜ëŠ”ê°€?
- [ ] **LSP**: ë¶€ëª¨ë¥¼ ìì‹ìœ¼ë¡œ ë°”ê¿”ë„ ì •ìƒ ë™ì‘í•˜ëŠ”ê°€?
- [ ] **ISP**: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œì— ì˜ì¡´í•˜ê³  ìˆëŠ”ê°€?
- [ ] **DIP**: êµ¬ì²´ í´ë˜ìŠ¤ì— ì§ì ‘ ì˜ì¡´í•˜ê³  ìˆëŠ”ê°€?

---

## ğŸ’¡ íŒ€ ë‹¨ìœ„ ì ìš© ì „ëµ

### ğŸ‘¥ ì‘ì€ íŒ€ (2-3ëª…)

```java
// í•µì‹¬ ì„œë¹„ìŠ¤ì—ë§Œ ì„ íƒì  ì ìš©
@Service
@RequiredArgsConstructor
public class OrderService {  // í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ë§Œ SOLID ì ìš©
    private final PaymentGateway paymentGateway;  // DIP
    private final NotificationSender notificationSender;  // ISP + OCP
}

@Service
public class ProductService {  // ë‹¨ìˆœ CRUDëŠ” ê¸°ë³¸ êµ¬ì¡° ìœ ì§€
    private final ProductRepository repository;
}
```

### ğŸ‘¥ ì¤‘ê°„ íŒ€ (4-6ëª…)

```java
// ëª¨ë“ˆë³„ ë‹´ë‹¹ì ì§€ì •, ì¸í„°í˜ì´ìŠ¤ ì¤‘ì‹¬ ì„¤ê³„
public interface PaymentModule {
    PaymentResult process(PaymentRequest request);
}

public interface NotificationModule {
    void send(NotificationRequest request);
}

// ê° ëª¨ë“ˆì„ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œ ê°€ëŠ¥
```

### ğŸ‘¥ í° íŒ€ (7ëª… ì´ìƒ)

```java
// ì™„ì „í•œ SOLID ì ìš© + ë„ë©”ì¸ë³„ ë¶„ë¦¬
// ì£¼ë¬¸ ë„ë©”ì¸
@DomainService
public class OrderDomainService {
    // ëª¨ë“  SOLID ì›ì¹™ ì ìš©
}

// ê²°ì œ ë„ë©”ì¸  
@DomainService
public class PaymentDomainService {
    // ëª¨ë“  SOLID ì›ì¹™ ì ìš©
}

// ë„ë©”ì¸ê°„ í†µì‹ ì€ ì´ë²¤íŠ¸ë‚˜ API ê²Œì´íŠ¸ì›¨ì´ ì‚¬ìš©
```

---

## ğŸ¯ ì„±ê³µ ì§€í‘œì™€ ì¸¡ì •

### ğŸ“Š ì •ëŸ‰ì  ì§€í‘œ

```java
// 1. í´ë˜ìŠ¤ í¬ê¸° ì¸¡ì •
// Before SOLID: í‰ê·  200ì¤„/í´ë˜ìŠ¤
// After SOLID: í‰ê·  50-80ì¤„/í´ë˜ìŠ¤

// 2. ì˜ì¡´ì„± ê°œìˆ˜
// Before: í•˜ë‚˜ì˜ ì„œë¹„ìŠ¤ê°€ 10ê°œ ì´ìƒì˜ êµ¬ì²´ í´ë˜ìŠ¤ì— ì˜ì¡´
// After: ì¸í„°í˜ì´ìŠ¤ ì˜ì¡´ìœ¼ë¡œ ê²°í•©ë„ ê°ì†Œ

// 3. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
// Before: í†µí•©í…ŒìŠ¤íŠ¸ ìœ„ì£¼ë¡œ ëŠë¦° í…ŒìŠ¤íŠ¸
// After: ë‹¨ìœ„í…ŒìŠ¤íŠ¸ ì¦ê°€ë¡œ ë¹ ë¥¸ í”¼ë“œë°±
```

### ğŸ“ˆ ì •ì„±ì  ì§€í‘œ

- **ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ì‹œê°„**: ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ì—†ì´ ì¶”ê°€ ê°€ëŠ¥
- **ë²„ê·¸ ìˆ˜ ê°ì†Œ**: ì±…ì„ì´ ëª…í™•í•´ì ¸ ë²„ê·¸ ë°œìƒ ì§€ì  ëª…í™•
- **íŒ€ ìƒì‚°ì„±**: ëª¨ë“ˆë³„ ë…ë¦½ ê°œë°œë¡œ ì¶©ëŒ ê°ì†Œ

---

## ğŸª í•µì‹¬ ì›ì¹™ ì •ë¦¬

### ğŸ† ì„±ê³µí•˜ëŠ” ê°œë°œìì˜ SOLID ë§ˆì¸ë“œì…‹

> **"ì™„ë²½í•œ ì„¤ê³„ë³´ë‹¤ëŠ” ì ì§„ì  ê°œì„ ì„!"**

### 5ê°€ì§€ ì‹¤ì²œ ì›ì¹™

1. **ğŸ¯ SRP**: "ì´ í´ë˜ìŠ¤ê°€ ë³€ê²½ë˜ëŠ” ì´ìœ ê°€ 2ê°œ ì´ìƒì´ë©´ ë¶„ë¦¬ë¥¼ ê³ ë ¤í•œë‹¤"
2. **ğŸšª OCP**: "ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê³  ìˆë‹¤ë©´ ì„¤ê³„ë¥¼ ì˜ì‹¬í•œë‹¤"  
3. **ğŸ”„ LSP**: "ë¶€ëª¨ë¥¼ ìì‹ìœ¼ë¡œ ë°”ê¿¨ì„ ë•Œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ ì„¤ê³„ë¥¼ ë‹¤ì‹œ ë³¸ë‹¤"
4. **ğŸ§© ISP**: "ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ê³  ìˆë‹¤ë©´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¶„ë¦¬í•œë‹¤"
5. **â¬‡ï¸ DIP**: "í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë µë‹¤ë©´ êµ¬ì²´ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ê³  ìˆëŠ” ê±´ ì•„ë‹Œì§€ í™•ì¸í•œë‹¤"

---

## ğŸš€ ë§ˆë¬´ë¦¬: ì‹¤ë¬´ì—ì„œ ì‚´ì•„ë‚¨ëŠ” SOLID

### âš¡ ì‹¤ë¬´ ì ìš©ì˜ í™©ê¸ˆë¥ 

> **"SOLIDëŠ” ëª©ì ì´ ì•„ë‹ˆë¼ ìˆ˜ë‹¨ì´ë‹¤"**

SOLID ì›ì¹™ì„ ì ìš©í•˜ëŠ” ì´ìœ ëŠ” **ì›ì¹™ ìì²´ê°€ ëª©ì ì´ ì•„ë‹ˆë¼**, ë‹¤ìŒì„ ìœ„í•´ì„œì…ë‹ˆë‹¤:

- **ğŸ”§ ìœ ì§€ë³´ìˆ˜ì„±**: 6ê°œì›” í›„ì—ë„ ì´í•´í•˜ê¸° ì‰¬ìš´ ì½”ë“œ
- **ğŸš€ í™•ì¥ì„±**: ìƒˆë¡œìš´ ìš”êµ¬ì‚¬í•­ì— ë¹ ë¥´ê²Œ ëŒ€ì‘
- **ğŸ§ª í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**: ì•ˆì •ì ì¸ ë°°í¬ë¥¼ ìœ„í•œ ê²¬ê³ í•œ í…ŒìŠ¤íŠ¸
- **ğŸ‘¥ í˜‘ì—…**: íŒ€ì›ë“¤ê³¼ í•¨ê»˜ ì¼í•˜ê¸° ì¢‹ì€ ì½”ë“œ

### ğŸ¯ ì‹¤ë¬´ ì ìš© 3ë‹¨ê³„ ìš”ì•½

#### 1ï¸âƒ£ ì‹œì‘ ë‹¨ê³„: DIPë¶€í„°
```java
// ì˜ì¡´ì„± ì£¼ì…ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ì½”ë“œ ë§Œë“¤ê¸°
@Service
@RequiredArgsConstructor
public class OrderService {
    private final OrderRepository repository; // ì¶”ìƒí™”ì— ì˜ì¡´
}
```

#### 2ï¸âƒ£ ë°œì „ ë‹¨ê³„: SRP + OCP  
```java
// ì±…ì„ ë¶„ë¦¬ + í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°
@Service
public class OrderService {
    private final List<OrderValidator> validators;     // SRP
    private final List<PaymentProcessor> processors;   // OCP
}
```

#### 3ï¸âƒ£ ì™„ì„± ë‹¨ê³„: ì „ì²´ ì›ì¹™ ì ìš©
```java
// ëª¨ë“  SOLID ì›ì¹™ì´ ìì—°ìŠ¤ëŸ½ê²Œ ë…¹ì•„ë“  ì½”ë“œ
// ê° í´ë˜ìŠ¤ê°€ ëª…í™•í•œ ì±…ì„ì„ ê°€ì§€ê³ 
// í™•ì¥ì— ì—´ë ¤ìˆìœ¼ë©°
// ì•ˆì „í•˜ê²Œ ì¹˜í™˜ ê°€ëŠ¥í•˜ê³   
// í•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤ë§Œ ì˜ì¡´í•˜ë©°
// ì¶”ìƒí™”ì— ì˜ì¡´í•˜ëŠ” êµ¬ì¡°
```

### ğŸ ë§ˆì§€ë§‰ ì¡°ì–¸

**SOLID ì›ì¹™ì„ ë§¹ëª©ì ìœ¼ë¡œ ì ìš©í•˜ì§€ ë§ˆì„¸ìš”.** í”„ë¡œì íŠ¸ì˜ ê·œëª¨, íŒ€ì˜ í¬ê¸°, ìš”êµ¬ì‚¬í•­ì˜ ë³µì¡ë„ë¥¼ ê³ ë ¤í•´ì„œ **ì ì ˆí•œ ìˆ˜ì¤€ì—ì„œ ì ìš©**í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

- **ì‘ì€ í”„ë¡œì íŠ¸**: DIP ì •ë„ë§Œìœ¼ë¡œë„ ì¶©ë¶„
- **ì¤‘ê°„ í”„ë¡œì íŠ¸**: SRP + DIP + OCP ì„ íƒ ì ìš©  
- **í° í”„ë¡œì íŠ¸**: ëª¨ë“  SOLID ì›ì¹™ ì ê·¹ í™œìš©

> **"ì˜¤ëŠ˜ì˜ ì„ íƒì´ 6ê°œì›” í›„ì˜ ë‚˜ë¥¼ ë§Œë“ ë‹¤"**

ì§€ê¸ˆ ë‹¹ì¥ì€ ë³µì¡í•´ ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ, SOLID ì›ì¹™ì„ ì²´ë“í•œ ê°œë°œìëŠ” **ë” ë¹ ë¥´ê³ , ë” ì•ˆì „í•˜ê²Œ, ë” ì¦ê²ê²Œ** ê°œë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì—¬ëŸ¬ë¶„ì˜ ê°œë°œ ì—¬ì •ì— SOLIDê°€ ë“ ë“ í•œ ë‚˜ì¹¨ë°˜ì´ ë˜ê¸°ë¥¼ ë°”ëë‹ˆë‹¤! ğŸ§­âœ¨**

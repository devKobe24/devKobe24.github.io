---
title: "💉[SQL] SUM, AVG, COUNT, MIN, MAX"
tags:
    - SQL
date: "2024-04-01"
thumbnail: "/assets/img/thumbnail/sql.jpeg"
---

# SUM

**'SUM'** 함수는 SQL에서 특정 열(column)에 포함된 숫자 값들의 합계를 계산할 때 사용됩니다.
- 이는 집계 함수의 한 종류로, 주로 **'GROUP BY'** 절과 함꼐 사용되어 여러 그룹의 데이터에 대한 합계를 구하거나, 전체 테이블에서 특정 열의 총합을 계산하는 데 적용됩니다.
- **'SUM'** 함수는 보고서 생성, 데이터 분석, 재무 계산 등 다양한 상황에서 유용하게 활용될 수 있습니다.

## 'SUM' 사용 예
- **전체 합계 계산 :** 모든 주문의 총 금액을 계산하고 싶을 때
```sql
SELECT SUM(total_price) FROM orders;
```
이 쿼리는 **'orders'** 테이블의 **'total_price'** 열에 있는 모든 값의 합계를 반환합니다.

- **그룹별 합계 계산 :** 각 부서별 직원들의 총 급여를 계산하고 싶을 떄
```sql
SELECT department, SUM(salary) FROM employees GROUP BY department;
```
이 쿼리는 **'employees'** 테이블에서 각 **'department'** 별로 **'salary'** 열의 합계를 계산하여, 각 부서의 총 급여를 보여줍니다.

- **조건부 합계 계산 :** 2023년에 이루어진 모든 판매의 총액을 계산하고 싶을 때
```sql
SELECT SUM(sales_amount) FROM sales WHERE year = 2023;
```
이 쿼리는 **'sales'** 테이블에서 **'year'** 열이 2023인 모든 행의 **'sales_amount'** 열 값의 합계를 반환합니다.

## 'SUM' 함수의 특징
- **'SUM'** 함수는 숫자 데이터에 대해서만 사용할 수 있으며, 문자열이나 날짜 등의 데이터 타입에는 사용할 수 없습니다.
- **'NULL'** 값을 포함하는 열에 **'SUM'** 함수를 사용할 때, **'NULL'** 값은 0으로 간주되지 않고, 단순히 무시됩니다.
    - 즉, **'NULL'** 값은 합계 계산에 영향을 주지 않습니다.
- **'SUM'** 은 다른 집계 함수(**'COUNT', 'AVG', 'MIN', 'MAX'** 등)와 함께 사용될 수 있으며, 복잡한 데이터 집합에 대한 요약 정보를 제공하는 데 유용합니다.

## 사용 시 고려사항
- **'SUM'** 함수를 사용할 때는 대상 열이 숫자 타입임을 확인해야 합니다.
- 큰 데이터 세트에서 **'SUM'** 함수를 사용할 때는 쿼리 성능에 주의해야 합니다.
    - 필요한 경우 적절한 인덱스를 사용하여 성능을 최적화할 수 있습니다.
- **'GROUP BY'** 절과 함께 **'SUM'** 을 사용할 때는, 그룹화할 열을 명확히 지정해야 합니다.

**'SUM'** 함수는 데이터베이스에서 숫자 데이터의 합계를 계산하는 데 매우 중요한 도구로, 데이터 분석 및 보고서 작성 등 다양한 상황에서 활용될 수 있습니다.

# AVG
**'AVG'** 함수는 SQL에서 특정 열(column)에 포함된 숫자 값들의 평균을 계산할 때 사용됩니다.
- 이 집계 함수는 특정 데이터 집합의 중간 값을 찾거나, 데이터의 일반적인 경향성을 파악하는 데 유용하며, 데이터 분석, 보고서 작성, 성능 평가 등 다양한 상황에서 활용될 수 있습니다.

## 'AVG' 사용 예
- **전체 평균 계산 :** 모든 직원의 평균 급여를 계산하고 싶을 때
```sql
SELECT AVG(salary) FROM employees;
```
이 쿼리는 **'employees'** 테이블의 **'salary'** 열에 있는 값들의 평균을 계산합니다.

- **그룹별 평균 계산 :** 각 부서별 직원들의 평균 급여를 계산하고 싶을 때
```sql
SELECT department, AVG(salary) FROM employees GROUP BY department;
```
이 쿼리는 **'employees'** 테이블에서 각 **'department'** 별로 **'salary'** 열의 평균을 계산하여, 각 부서의 직원들에 대한 평균 급여를 보여줍니다.

- **조건부 평균 계산 :** 2023년에 이루어진 모든 판매 건에 대한 평균 판매액을 계산하고 싶을 때
```sql
SELECT AVG(sales_amount) FROM sales WHERE year = 2023;
```
이 쿼리는 **'salse'** 테이블에서 **'year'** 열이 2023인 모든 행의 **'sales_amount'** 열 값들의 평균을 반환합니다.

## 'AVG' 함수의 특징

- **'AVG'** 함수는 숫자 데이터에 대해서만 사용할 수 있습니다. 문자열이나 날짜 등 다른 타입의 데이터에는 사용할 수 없습니다.
- **'NULL'** 값을 포함하는 열에 **'AVG'** 함수를 사용할 때, **'NULL'** 값은 계산에서 제외됩니다.
    - 즉, **'NULL'** 값은 평균 계산에 영향을 주지 않으며, 실제 값이 있는 데이터만을 기준으로 평균이 계산됩니다.
- **'AVG'** 는 다른 집계 함수(**'SUM', 'COUNT', 'MIN', 'MAX'** 등)와 함께 사용될 수 있으며, 데이터의 통계적 분석이나 요약 정보 제공에 유용합니다.

## 사용 시 고려사항
- **'AVG'** 함수를 사용할 때는 대상 열이 숫자 타입인지 확인해야 합니다.
- 데이터 세트의 크기가 클 때 **'AVG'** 함수를 사용하면 쿼리 성능에 영향을 줄 수 있으므로, 필요한 경우 적절한 인덱스 사용과 데이터 필터링을 통해 성능을 최적화해야 합니다.
- **'GROUP BY'** 절과 함께 **'AVG'** 를 사용할 때는, 그룹화할 열을 명확하게 지정해야 하며, 그룹별로 평균값을 계산하고자 할 때 특히 유용합니다.

**'AVG'** 함수는 데이터 세트에서 평균값을 계산하여 중요한 인사이트를 제공하는 집계 함수로, 데이터 분석과 의사 결정 과정에서 핵심적인 역할을 합니다.

# COUNT
**'COUNT'** 함수는 SQL에서 행(row)의 수를 세는 데 사용됩니다.
- 이 함수는 특정 조건을 만족하는 행의 수를 찾거나, 테이블의 전체 행 수를 계산할 때 매우 유용합니다. 데이터 분석, 보고서 작성, 데이터 집합의 크기를 파악하는 등의 상황에서 활용됩니다.
- **'COUNT'** 는 다양한 형태로 사용될 수 있으며, 가장 일반적인 사용 방법은 **'COUNT(*)', COUNT(열 이름),** 그리고 **'COUNT(DISTINCT 열 이름)'** 입니다.

## 'COUNT' 사용 예
- **테이블의 전체 행 수 계산 :** **'employees'** 테이블의 전체 직원 수를 계산하고 싶을 때
```sql
SELECT COUNT(*) FROM employees;
```
이 쿼리는 **'employees'** 테이블의 전체 행 수를 반환합니다.

- **특정 조건을 만족하는 행 수 계산 :** 연봉이 $50,000 이상인 직원의 수를 찾고 싶을 때
```sql
SELECT COUNT(*) FROM employees WHERE salary >= 50000;
```
이 쿼리는 **'salary'**가 $50,000 이상인 행의 수를 반환합니다.

- **고유값의 수 계산 :** **'employees'** 테이블에서 고유한 부서의 수를 계산하고 싶을 때
```sql
SELECT COUNT(DISTINCT department) FROM employees;
```
이 쿼리는 중복을 제거한 **'department'** 열의 고유값 수를 반환합니다.

## 'COUNT' 함수의 특징.
- **'COUNT(*)'** 는 테이블의 전체 행 수를 세며, **'NULL'** 값을 포함한 모든 행을 계산합니다.
- **'COUNT(열 이름)'** 는 특정 열에서 **'NULL'** 이 아닌 행의 수를 세는 데 사용됩니다.
- **'COUNT(DISTINCT 열 이름)'** 는 특정 열의 고유값 수를 계산할 때 사용되며, 중복된 값은 하나로 취급합니다.
- **'COUNT'** 함수는 집계 함수로 분류되며, **'GROUP BY'** 절과 함께 사용하여 특정 조건에 따른 그룹별 행 수를 계산하는 데 유용합니다.

## 사용 시 고려사항
- **'COUNT(*)'** 와 **COUNT(열 이름)** 사이에는 성능 차이가 있을 수 있으므로, 사용 상황에 따라 적절한 형태를 선택하는 것이 중요합니다.
- 대규모 데이터베이스에서 **'COUNT'** 쿼리를 실행할 때는 쿼리 성능에 주의해야 하며, 필요한 경우 적절한 인덱스를 사용하거나 조건을 최적화하여 성능을 개선할 수 있습니다.

**'COUNT'** 함수는 데이터베이스 내 데이터의 양을 측정하고 분석하는 데 필수적인 도구로, 데이터의 크기나 특정 조건을 만족하는 데이터의 수를 파악하는 데 매우 유용합니다.

# MIN
**MIN** 함수는 SQL에서 특정 열(column)의 최소값을 찾을 때 사용됩니다.
- 이 함수는 숫자, 문자열, 날짜 데이터 타입 등 다양한 종류의 데이터에 대해 작동하며, 테이블 전체 또는 특정 조건을 만족하는 데이터 집합 내에서 가장 작은 값을 찾는 데 유용합니다.
- **'MIN'** 은 주로 데이터 분석, 보고서 작성, 데이터의 범위를 이해하고자 할 때 사용됩니다.

## 'MIN' 사용 예
- **숫자 데이터의 최소값 찾기 :** 직원들의 최소 급여를 찾고 싶을 때
```sql
SELECT MIN(salary) FROM employees;
```
이 쿼리는 **'employees'** 테이블의 **'salary'** 열에서 가장 낮은 급여를 반환합니다.

- **날짜 데이터의 최소값 찾기 :** 가장 오래된 주문의 날짜를 찾고 싶을 때
```sql
SELECT MIN(order_date) FROM orders;
```
이 쿼리는 **'orders'** 테이블의 **'order_date'** 열에서 가장 이른 날짜를 반환합니다.

- **문자열 데이터의 최소값 찾기 :** 알파벳 순으로 가장 먼저 오는 제품 이름을 찾고 싶을 때
```sql
SELECT MIN(product_name) FROM products;
```
이 쿼리는 **'products'** 테이블의 **'product_name'** 열에서 알파벳 순으로 가장 앞서는 이름을 반환합니다. 문자열 데이터의 경우, '최소값'은 알파벳 순 또는 설정된 정렬 순서에 따라 결정됩니다.

## 'MIN' 함수의 특징
- **'MIN'** 함수는 집계 함수의 하나로, 단일 열에서 가장 작은 값을 찾는 데 사용됩니다.
- 숫자, 문자열, 날짜 등 다양한 타입의 데이터에 대해 최소값을 찾을 수 있습니다.
- **'GROUP BY'** 절과 함께 사용하면, 특정 기준(예: 부서별, 카테고리별)으로 그룹화된 데이터 내에서 각 그룹의 최소값을 찾는 데 사용할 수 있습니다.

## 사용 시 고려사항
- **'MIN'** 함수를 사용할 때는 데이터 타입과 해당 필드의 데이터 구조를 이해하는 것이 중요합니다.
    - 특히, 문자열 데이터에 대한 **'MIN'** 의 사용은 예상치 못한 결과를 가져올 수 있으므로 주의가 필요합니다.
- 대규모 데이터셋에서 **'MIN'** 함수를 사용할 때는 쿼리의 성능에 주의해야 합니다.
    - 필요한 경우 적절한 인덱스 사용과 데이터 필터링을 통해 성능을 최적화할 수 있습니다.

**'MIN'** 함수는 데이터 세트에서 최소값을 식별할 때 필수적인 도구로, 데이터의 범위를 파악하고 특정 조건에 따른 최소값을 분석하는 데 유용합니다.

# MAX
**'MAX'** 함수는 SQL에서 특정 열(column)의 최대값을 찾을 때 사용됩니다.
- 숫자, 문자열, 날짜 등 다양한 데이터 타입에 적용할 수 있으며, 테이블 전체 또는 특정 조건을 만족하는 데이터 집합 내에서 가장 큰 값을 찾는 데 유용합니다.
- **'MAX'** 는 데이터의 상한을 파악하거나, 가장 최신 또는 가장 오래된 데이터를 식별하는 등의 상황에서 사용됩니다.

## 'MAX' 사용 예
- **숫자 데이터의 최대값 찾기 :** 직원들의 최대 급여를 찾고 싶을 때
```sql
SELECT MAX(salary) FROM employees;
```
이 쿼리는 **'employees'** 테이블의 **'salary'** 열에서 가장 높은 급여를 반환합니다.

- **날짜 데이터의 최대값 찾기 :** 가장 최근 주문의 날짜를 찾고 싶을 때
```sql
SELECT MAX(order_date) FROM orders;
```
이 쿼리는 **'orders'** 테이블의 **'order_date'** 열에서 가장 최근의 날짜를 반환합니다.

- **문자열 데이터의 최대값 찾기 :** 알파벳 순으로 가장 마지막에 오는 제품 이름을 찾고 싶을 때
```sql
SELECT MAX(product_name) FROM products;
```
이 쿼리는 **'products'** 테이블의 **'product_name'** 열에서 알파벳 순으로 가장 뒤에 오는 이름을 반환합니다.
문자열 데이터의 경우, '최대값'은 알파벳 순 또는 설정된 정렬 순서에 따라 결정됩니다.

## 'MAX' 함수의 특징
- **'MAX'** 함수는 집계 함수의 하나로, 단일 열에서 가장 큰 값을 찾는 데 사용됩니다.
- 숫자, 문자열, 날짜 등 다양한 타입의 데이터에 대해 최대값을 찾을 수 있습니다.
- **'GROUP BY'** 절과 함꼐 사용하면, 특정 기준(예: 부서별, 카테고리별)으로 그룹화된 데이터 내에서 각 그룹의 최대값을 찾는 데 사용할 수 있습니다.

## 사용 시 고려사항
- **'MAX'** 함수를 사용할 때는 데이터 타입과 해당 필드의 데이터 구조를 이해하는 것이 중요합니다. 특히, 문자열 데이터에 대한 **'MAX'** 의 사용은 예상치 못한 결과를 가져올 수 있으므로 주의가 필요합니다.
- 대규모 데이터셋에서 **'MAX'** 함수를 사용할 때는 쿼리의 성능에 주의해야 합니다. 필요한 경우 적절한 인덱스 사용과 데이터 필터링을 통해 성능을 최적화할 수 있습니다.

**'MAX'** 함수는 데이터 세트에서 최대값을 식별할 때 필수적인 도구로, 데이터의 범위를 파악하고 특정 조건에 따른 최대값을 분석하는 데 유용합니다.

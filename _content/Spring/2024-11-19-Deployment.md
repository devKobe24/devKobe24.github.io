---
title: 🍃[Spring] 배포란 무엇일까요?
tags:
    - Spring
    - Framework
date: "2024-11-19"
thumbnail: "/assets/img/thumbnail/spring.jpeg"
---

# 🍃[Spring] 배포란 무엇일까요?
- **배포(Deployment)란** 애플리케이션(서버 코드)를 개발 환경에서 **실제 사용자들이 사용할 수 있는 환경(운영 환경, 프로덕션 환경)으로** 이동시키고, 실행 가능한 상태로 만드는 과정을 말합니다.
    - 이 과정에는 애플리케이션을 빌드, 테스트, 배포 서버에 올리는 등의 작업이 포함됩니다.

## 1️⃣ 배포의 주요 단계.
- 배포 과정은 아래 단계를 포함합니다.

### 1️⃣ 코드 작성 및 버전 관리.
#### 1️⃣ 코드 작성.
- 개발자가 로컬 환경에서 백엔드 코드를 작성합니다.
    - Spring Boot, Node.js 등 다양한 백엔드 프레임워크를 사용합니다.

#### 2️⃣ 버전 관리.
- 작성된 코드는 Git과 같은 버전 관리 시스템에 저장되어 협업과 변경 이력을 관리합니다.

### 2️⃣ 테스트 및 빌드.
#### 1️⃣ 테스트.
- 코드를 실제 배포 전에 실행하여 버그와 문제를 식별합니다.
    - 단위 테스트, 통합 테스트, E2E(End-to-End) 테스트 등을 진행합니다.

#### 2️⃣ 빌드.
- 소스 코드를 실행 가능한 상태로 패키징합니다.
    - 예를 들어, Spring Boot 프로젝트는 jar 또는 war 파일로 빌드됩니다.

### 3️⃣ 배포 준비.
#### 1️⃣ 서버 설정.
- 배포할 서버를 준비합니다.
    - 이는 물리적 서버, 가상 서버, 클라우드 서비스(AWS, Azure, GCP) 등이 될 수 있습니다.

#### 2️⃣ 환경 설정.
- 데이터베이스 연결 정보, API 키, 포트 번호 등 배포 환경에 맞는 설정 파일을 작성합니다.

### 4️⃣ 코드 배포.
#### 1️⃣ 파일 업로드.
- 빌드된 파일을 서버에 업로드합니다.
    - 이를 위해 FTP, SCP, CI/CD 파이프라인 등을 사용할 수 있습니다.

#### 2️⃣ 실행.
- 업로드된 애플리케이션을 서버에서 실행합니다.
    - Spring Boot 애풀리케이션은 일반적으로 java -jar 명령어로 실행됩니다.

### 5️⃣ 서비스 가동 및 모니터링.
#### 1️⃣ 애플리케이션 가동.
- 애플리케이션이 정상적으로 실행되었는지 확인합니다.

#### 2️⃣ 모니터링.
- 서비스 상태, 서버 리소스(CPU, 메모리) 사용량 등을 지속적으로 확인하여 문제를 식별합니다.

## 2️⃣ 배포 방식.
- 배포 방식은 프로젝트 규모, 사용 기술, 요구 사항에 따라 다릅니다.

### 1️⃣ 수동 배포.
#### 1️⃣ 설명.
- 개발자가 직접 코드를 빌드하고 서버에 업로드하여 실행하는 방식.

#### 2️⃣ 장점.
- 간단하며 소규모 프로젝트에 적합.

#### 3️⃣ 단점.
- 많은 인적 작업이 필요하고, 오류 발생 가능성이 높음.

### 2️⃣ 자동화 배포.
#### 1️⃣ 설명.
- CI/CD(Continuous Integration/Continuous Deployment) 도구를 사용해 빌드, 테스트, 배포를 자동화.

#### 2️⃣ 도구.
- Jenkins, Github Actions, GitLab CI/CD, AWS CodePipeline

#### 3️⃣ 장점.
- 오류를 줄이고 배포 속도를 향상.

#### 4️⃣ 단점.
- 초기 설정이 복잡.

### 3️⃣ 블루/그린 배포.
#### 1️⃣ 설명.
- 기존 환경(블루)을 유지하면서 새로운 환경(그린)을 배포.
    - 문제가 없으면 트래픽을 그린으로 전환.

#### 2️⃣ 장점.
- 무중단 배포 가능.

#### 3️⃣ 단점.
- 추가 서버 비용 발생.

### 4️⃣ 롤링 배포.
#### 1️⃣ 설명.
- 기존 서버를 점진적으로 업데이트하여 배포.

#### 2️⃣ 장점.
- 점진적 배포로 안정성 증가.

#### 3️⃣ 단점.
- 업데이트 완료까지 시간이 오래 걸릴 수 있음.

## 3️⃣ 백엔드 배포에 필요한 도구와 기술.

### 1️⃣ 서버 인프라.
- 물리적 서버 또는 클라우드 서비스(AWS EC2, GCP Compute Engine, Azure VM)
- 컨테이너 기반 배포(Docker, Kubernetes)

### 2️⃣ CI/CD 도구
- Jenkins, Github Actions, GitLab CI/CD, CircleCI.

### 3️⃣ 웹 서버.
- Nginx, Apache: 로드 밸런싱과 정적 파일 제공.
- Spring Boot 내장 서버(Tomcat)로 간단한 애플리케이션 실행.

### 4️⃣ 모니터링.
- Promethus, Grafana: 서버 성능 및 애플리케이션 상태 모니터링
- APM 도구: New Relic, Datadog, ELK 스택.

## 4️⃣ 배포의 주요 고려사항.

### 1️⃣ 무중단 배포.
- 사용자가 서비스 중단 없이 새로운 코드를 사용할 수 있도록 설정.

### 2️⃣ 보안.
- 환경 변수나 민감한 정보를 안전하게 관리(예: AWS Secrets Manager, Vault).

### 3️⃣ 확장성.
- 트래픽 증가에 대비한 로드 밸런싱, 오토 스케일링 구성.

### 4️⃣ 장애 복구.
- 문제 발생 시 빠르게 이전 상태로 복구할 수 있는 롤백 전략 준비.

## 5️⃣ 결론.
- 백엔드 배포는 단순히 코드를 서버에 업로드하는 것이 아니라, 애플리케이션의 안정성과 성능을 유지하면서 사용 가능한 상태로 만드는 복잡적인 작업입니다.
- 프로젝트에 따라 배포 방식과 도구를 선택하며, 무중단 서비스와 자동화를 목표로 점진적으로 개선하는 것이 중요합니다.

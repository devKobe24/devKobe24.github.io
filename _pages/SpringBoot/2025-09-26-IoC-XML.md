---
title: ğŸ›ï¸[SpringBoot] ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ í•µì‹¬ ê°œë…`:` ì œì–´ì˜ ì—­ì „(IoC) - XML ê¸°ë°˜ êµ¬í˜„
tags:
    - SpringBoot
date: "2025-09-27"
thumbnail: "/assets/img/thumbnail/springboot.jpg"
---

# ğŸ›ï¸[SpringBoot] ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ í•µì‹¬ ê°œë…: ì œì–´ì˜ ì—­ì „(IoC) - XML ê¸°ë°˜ êµ¬í˜„

## ğŸ“– ê°œìš”

**ì œì–´ì˜ ì—­ì „(IoC, Inversion of Control)** ì€ ê°ì²´ì˜ ìƒì„±ê³¼ ì˜ì¡´ì„± ê´€ë¦¬ë¥¼ ê°œë°œìê°€ ì•„ë‹Œ **Spring Container** ê°€ ë‹´ë‹¹í•˜ë„ë¡ í•˜ëŠ” ì„¤ê³„ ì›ì¹™ì…ë‹ˆë‹¤. XML ì„¤ì • íŒŒì¼ì„ í†µí•´ IoCë¥¼ êµ¬í˜„í•˜ëŠ” ì „í†µì ì¸ ë°©ë²•ì„ í•™ìŠµí•´ë³´ê² ìŠµë‹ˆë‹¤.

---

## ğŸš¨ ê¸°ì¡´ ì˜ì¡´ì„± ì£¼ì…ì˜ í•œê³„ì 

### ì—¬ì „íˆ ë‚¨ì€ ë¬¸ì œì 
ì´ì „ì— ì˜ì¡´ì„± ì£¼ì…ì„ í†µí•´ í´ë˜ìŠ¤ ê°„ ê²°í•©ë„ë¥¼ ë‚®ì·„ì§€ë§Œ, **ì—¬ì „íˆ ìˆ˜ì •ì´ í•„ìš”í•œ ë¶€ë¶„**ì´ ìˆìŠµë‹ˆë‹¤:

```java
public class Main {
    public static void main(String[] args) {
        CoffeeMaker coffeeMaker = new CoffeeMaker();
        
        // ğŸš¨ ìƒˆë¡œìš´ ì»¤í”¼ ë¨¸ì‹ ì´ ì¶”ê°€ë  ë•Œë§ˆë‹¤ ì´ ë¶€ë¶„ì„ ìˆ˜ì •í•´ì•¼ í•¨
        coffeeMaker.setCoffeeMachine(new DripCoffeeMachine());
        coffeeMaker.makeCoffee();
        
        // ë‹¤ë¥¸ ì»¤í”¼ ë¨¸ì‹ ìœ¼ë¡œ ë³€ê²½í•˜ë ¤ë©´ ë˜ ìˆ˜ì • í•„ìš”
        coffeeMaker.setCoffeeMachine(new EspressoMachine());
        coffeeMaker.makeCoffee();
    }
}
```

### ë³µì¡í•œ ì˜ì¡´ì„± ê´€ê³„ì—ì„œì˜ ë¬¸ì œì 
```java
// ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ì´ëŸ° ë³µì¡í•œ ì˜ì¡´ì„± ê´€ê³„ê°€ ë°œìƒ
UserService userService = new UserService();
PaymentService paymentService = new PaymentService();
EmailService emailService = new EmailService();
OrderService orderService = new OrderService();

// ì˜ì¡´ì„± ì£¼ì…
userService.setUserRepository(new UserRepository());
paymentService.setPaymentGateway(new StripePaymentGateway());
emailService.setEmailProvider(new GmailProvider());
orderService.setUserService(userService);
orderService.setPaymentService(paymentService);
orderService.setEmailService(emailService);

// ğŸš¨ ë§¤ë²ˆ ì´ëŸ° ë³µì¡í•œ ì„¤ì • ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼ í•¨
```

---

## ğŸ”„ ì œì–´ì˜ ì—­ì „(IoC) ê°œë…

### ì „í†µì  ë°©ì‹ vs IoC ë°©ì‹

| êµ¬ë¶„ | ì „í†µì  ë°©ì‹ | IoC ë°©ì‹ |
|------|-------------|----------|
| **ê°ì²´ ìƒì„±** | ê°œë°œìê°€ `new` í‚¤ì›Œë“œë¡œ ì§ì ‘ ìƒì„± | í”„ë ˆì„ì›Œí¬ê°€ ìë™ ìƒì„± |
| **ì˜ì¡´ì„± ì£¼ì…** | ê°œë°œìê°€ ë©”ì„œë“œ í˜¸ì¶œë¡œ ì§ì ‘ ì£¼ì… | í”„ë ˆì„ì›Œí¬ê°€ ìë™ ì£¼ì… |
| **íë¦„ ì œì–´** | ê°œë°œìê°€ ì§ì ‘ ì œì–´ | í”„ë ˆì„ì›Œí¬ê°€ ê°„ì ‘ ì œì–´ |
| **ì„¤ì • ë°©ë²•** | ì†ŒìŠ¤ì½”ë“œ ë‚´ë¶€ì—ì„œ í•˜ë“œì½”ë”© | ì™¸ë¶€ ì„¤ì • íŒŒì¼ ë˜ëŠ” ì• ë…¸í…Œì´ì…˜ |

### IoCì˜ í•µì‹¬ ì•„ì´ë””ì–´
```mermaid
graph TB
    A[ê°œë°œì] -->|ì œì–´ê¶Œ ì´ì–‘| B[Spring Container]
    B -->|ê°ì²´ ìƒì„±| C[Bean Objects]
    B -->|ì˜ì¡´ì„± ì£¼ì…| D[Dependency Injection]
    B -->|ìƒëª…ì£¼ê¸° ê´€ë¦¬| E[Lifecycle Management]
```

---

## ğŸ“„ XML ê¸°ë°˜ IoC êµ¬í˜„

### 1ë‹¨ê³„: XML ìŠ¤í‚¤ë§ˆ ì¤€ë¹„

Spring Frameworkì˜ ê³µì‹ XML ìŠ¤í‚¤ë§ˆë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:
- **ì°¸ì¡° ë§í¬**: [Spring XML Schemas](https://docs.spring.io/spring-framework/reference/core/appendix/xsd-schemas.html)

### 2ë‹¨ê³„: beans.xml íŒŒì¼ ìƒì„±

**íŒŒì¼ ìœ„ì¹˜**: `src/main/resources/beans.xml`

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       https://www.springframework.org/schema/beans/spring-beans.xsd">

    <!-- ë“œë¦½ ì»¤í”¼ ë¨¸ì‹  Bean ì •ì˜ -->
    <bean id="dripCoffeeMachine" class="com.example.demo.DripCoffeeMachine"/>
    
    <!-- ì—ìŠ¤í”„ë ˆì†Œ ë¨¸ì‹  Bean ì •ì˜ -->
    <bean id="espressoMachine" class="com.example.demo.EspressoMachine"/>
    
    <!-- ì»¤í”¼ ë©”ì´ì»¤ Bean ì •ì˜ ë° ì˜ì¡´ì„± ì£¼ì… -->
    <bean id="coffeeMaker" class="com.example.demo.CoffeeMaker" init-method="makeCoffee">
        <property name="coffeeMachine" ref="espressoMachine"/>
    </bean>
    
</beans>
```

### 3ë‹¨ê³„: í´ë˜ìŠ¤ êµ¬ì¡° ì •ì˜

#### ì¸í„°í˜ì´ìŠ¤
```java
public interface CoffeeMachine {
    String brew();
}
```

#### êµ¬í˜„ì²´ë“¤
```java
public class EspressoMachine implements CoffeeMachine {
    @Override
    public String brew() {
        return "Brewing coffee with Espresso Machine";
    }
}

public class DripCoffeeMachine implements CoffeeMachine {
    @Override
    public String brew() {
        return "Brewing coffee with Drip Coffee Machine";
    }
}
```

#### CoffeeMaker í´ë˜ìŠ¤
```java
public class CoffeeMaker {
    private CoffeeMachine coffeeMachine;
    
    // Setter ë©”ì„œë“œ (XMLì—ì„œ property ì£¼ì…ì„ ìœ„í•´ í•„ìš”)
    public void setCoffeeMachine(CoffeeMachine coffeeMachine) {
        this.coffeeMachine = coffeeMachine;
    }
    
    // init-methodë¡œ ì§€ì •ë  ë©”ì„œë“œ
    public void makeCoffee() {
        System.out.println(coffeeMachine.brew());
    }
}
```

### 4ë‹¨ê³„: Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •

```java
@SpringBootApplication
@ImportResource("classpath:beans.xml")  // XML ì„¤ì • íŒŒì¼ import
public class DemoApplication {
    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }
}
```

---

## ğŸ§© XML ì„¤ì • íŒŒì¼ êµ¬ì„± ìš”ì†Œ

### &lt;bean&gt; íƒœê·¸ ì†ì„±ë“¤

| ì†ì„± | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|
| **id** | Beanì˜ ê³ ìœ  ì‹ë³„ì | `id="coffeeMaker"` |
| **class** | Beanìœ¼ë¡œ ìƒì„±í•  í´ë˜ìŠ¤ (ì „ì²´ íŒ¨í‚¤ì§€ ê²½ë¡œ) | `class="com.example.demo.CoffeeMaker"` |
| **init-method** | ê°ì²´ ìƒì„± í›„ ìë™ ì‹¤í–‰í•  ë©”ì„œë“œ | `init-method="makeCoffee"` |
| **destroy-method** | ê°ì²´ ì†Œë©¸ ì „ ì‹¤í–‰í•  ë©”ì„œë“œ | `destroy-method="cleanup"` |

### &lt;property&gt; íƒœê·¸ - ì˜ì¡´ì„± ì£¼ì…

```xml
<!-- Setter ì£¼ì… -->
<bean id="coffeeMaker" class="com.example.demo.CoffeeMaker">
    <property name="coffeeMachine" ref="espressoMachine"/>
    <property name="maxCapacity" value="500"/>
</bean>

<!-- ìƒì„±ì ì£¼ì… -->
<bean id="coffeeMaker" class="com.example.demo.CoffeeMaker">
    <constructor-arg ref="espressoMachine"/>
    <constructor-arg value="500"/>
</bean>
```

---

## ğŸš€ ì‹¤í–‰ íë¦„ ë¶„ì„

### 1. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘
```java
SpringApplication.run(DemoApplication.class, args);
```

### 2. XML íŒŒì¼ ë¡œë”©
```java
@ImportResource("classpath:beans.xml")
```

### 3. Spring Containerì˜ ì‘ì—… ìˆœì„œ
1. **Bean ì •ì˜ íŒŒì‹±**: XMLì—ì„œ Bean ì •ë³´ë¥¼ ì½ì–´ë“¤ì„
2. **ê°ì²´ ìƒì„±**: ê° Bean í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
   ```java
   DripCoffeeMachine dripCoffeeMachine = new DripCoffeeMachine();
   EspressoMachine espressoMachine = new EspressoMachine();
   CoffeeMaker coffeeMaker = new CoffeeMaker();
   ```
3. **ì˜ì¡´ì„± ì£¼ì…**: `<property>` íƒœê·¸ì— ë”°ë¼ ì˜ì¡´ì„± ì£¼ì…
   ```java
   coffeeMaker.setCoffeeMachine(espressoMachine);
   ```
4. **ì´ˆê¸°í™” ë©”ì„œë“œ ì‹¤í–‰**: `init-method` ì‹¤í–‰
   ```java
   coffeeMaker.makeCoffee(); // ìë™ ì‹¤í–‰
   ```

### 4. ì‹¤í–‰ ê²°ê³¼
```
Brewing coffee with Espresso Machine
```

---

## âœ… XML ê¸°ë°˜ IoCì˜ ì¥ì 

### ğŸ¯ **ì½”ë“œ ë³€ê²½ ì—†ëŠ” ì„¤ì • ë³€ê²½**
```xml
<!-- ì—ìŠ¤í”„ë ˆì†Œ ë¨¸ì‹ ì—ì„œ ë“œë¦½ ë¨¸ì‹ ìœ¼ë¡œ ë³€ê²½í•˜ë ¤ë©´ XMLë§Œ ìˆ˜ì • -->
<bean id="coffeeMaker" class="com.example.demo.CoffeeMaker" init-method="makeCoffee">
    <property name="coffeeMachine" ref="dripCoffeeMachine"/>  <!-- ì—¬ê¸°ë§Œ ë³€ê²½! -->
</bean>
```

### ğŸ—ï¸ **ì¤‘ì•™ì§‘ì¤‘ì‹ ì„¤ì • ê´€ë¦¬**
- ëª¨ë“  Bean ì„¤ì •ì„ í•œ ê³³ì—ì„œ ê´€ë¦¬
- ì˜ì¡´ì„± ê´€ê³„ë¥¼ í•œëˆˆì— íŒŒì•… ê°€ëŠ¥
- í™˜ê²½ë³„ ì„¤ì • ë¶„ë¦¬ ìš©ì´

### ğŸ”§ **ìœ ì—°í•œ ê°ì²´ ìƒëª…ì£¼ê¸° ì œì–´**
```xml
<bean id="databaseConnection" 
      class="com.example.DatabaseConnection"
      init-method="connect"
      destroy-method="disconnect"
      scope="singleton">
    <property name="url" value="jdbc:mysql://localhost:3306/mydb"/>
</bean>
```

---

## âš ï¸ XML ê¸°ë°˜ IoCì˜ í•œê³„ì 

### 1. **ì»´íŒŒì¼ íƒ€ì„ ê²€ì¦ ë¶ˆê°€**
```xml
<!-- ì˜¤íƒ€ê°€ ìˆì–´ë„ ì‹¤í–‰ ì‹œì ì—ë§Œ ì—ëŸ¬ ë°œìƒ -->
<bean id="coffeeMaker" class="com.example.demo.CoffeeMakr">  <!-- ì˜¤íƒ€! -->
    <property name="coffeeMachin" ref="espressoMachine"/>    <!-- ì˜¤íƒ€! -->
</bean>
```

### 2. **IDE ì§€ì› ì œí•œ**
- ìë™ì™„ì„±, ë¦¬íŒ©í† ë§ ì§€ì› ë¶€ì¡±
- í´ë˜ìŠ¤ëª… ë³€ê²½ ì‹œ XML íŒŒì¼ ìˆ˜ë™ ìˆ˜ì • í•„ìš”

### 3. **XML íŒŒì¼ ë³µì¡ì„± ì¦ê°€**
ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì—ì„œëŠ” XML íŒŒì¼ì´ ë§¤ìš° ë³µì¡í•´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ†š í˜„ëŒ€ì  ì ‘ê·¼ë²•ê³¼ì˜ ë¹„êµ

### Annotation ê¸°ë°˜ ì„¤ì • (í˜„ì¬ ê¶Œì¥ ë°©ì‹)
```java
@Component
public class EspressoMachine implements CoffeeMachine {
    // êµ¬í˜„
}

@Component
public class CoffeeMaker {
    private final CoffeeMachine coffeeMachine;
    
    @Autowired
    public CoffeeMaker(CoffeeMachine coffeeMachine) {
        this.coffeeMachine = coffeeMachine;
    }
    
    @PostConstruct
    public void makeCoffee() {
        System.out.println(coffeeMachine.brew());
    }
}
```

### Java Config ê¸°ë°˜ ì„¤ì •
```java
@Configuration
public class CoffeeConfig {
    
    @Bean
    public CoffeeMachine espressoMachine() {
        return new EspressoMachine();
    }
    
    @Bean
    public CoffeeMaker coffeeMaker(CoffeeMachine coffeeMachine) {
        CoffeeMaker maker = new CoffeeMaker();
        maker.setCoffeeMachine(coffeeMachine);
        return maker;
    }
}
```

---

## ğŸ¯ ì–¸ì œ XML ì„¤ì •ì„ ì‚¬ìš©í• ê¹Œ?

### ì í•©í•œ ê²½ìš°
- **ë ˆê±°ì‹œ ì‹œìŠ¤í…œ í†µí•©**: ê¸°ì¡´ XML ê¸°ë°˜ ì„¤ì •ê³¼ì˜ í˜¸í™˜ì„± í•„ìš”
- **ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì •**: ì†ŒìŠ¤ ì½”ë“œ ìˆ˜ì •ì´ ë¶ˆê°€ëŠ¥í•œ ì„œë“œíŒŒí‹° ë¼ì´ë¸ŒëŸ¬ë¦¬
- **ëŸ°íƒ€ì„ ì„¤ì • ë³€ê²½**: ì• í”Œë¦¬ì¼€ì´ì…˜ ì¬ë°°í¬ ì—†ì´ ì„¤ì • ë³€ê²½ í•„ìš”

### í˜„ì¬ ê¶Œì¥ ë°©ì‹
- **Annotation ê¸°ë°˜**: `@Component`, `@Service`, `@Repository`
- **Java Config**: `@Configuration`, `@Bean`
- **Spring Boot Auto Configuration**: `@SpringBootApplication`

---

## ğŸ’¡ ì‹¤ë¬´ íŒ

### XMLê³¼ Annotation í˜¼ìš©
```java
@SpringBootApplication
@ImportResource("classpath:legacy-beans.xml")  // ë ˆê±°ì‹œ XML ì„¤ì •
public class ModernApplication {
    // í˜„ëŒ€ì  ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ ì½”ë“œ
}
```

### Profileë³„ XML ì„¤ì •
```xml
<!-- beans-dev.xml -->
<beans profile="dev">
    <bean id="dataSource" class="com.example.DevDataSource"/>
</beans>

<!-- beans-prod.xml -->
<beans profile="prod">  
    <bean id="dataSource" class="com.example.ProdDataSource"/>
</beans>
```

---

## ğŸ“ í•™ìŠµ í¬ì¸íŠ¸

### í•µì‹¬ ê°œë…
1. **ì œì–´ì˜ ì—­ì „**: ê°ì²´ ìƒì„±ê³¼ ê´€ë¦¬ ì±…ì„ì„ í”„ë ˆì„ì›Œí¬ì— ìœ„ì„
2. **ì™¸ë¶€ ì„¤ì •**: ì½”ë“œ ë³€ê²½ ì—†ì´ ì„¤ì • íŒŒì¼ë§Œìœ¼ë¡œ ë™ì‘ ë³€ê²½ ê°€ëŠ¥
3. **ìƒëª…ì£¼ê¸° ê´€ë¦¬**: init-method, destroy-methodë¥¼ í†µí•œ ê°ì²´ ìƒëª…ì£¼ê¸° ì œì–´

### ë‹¤ìŒ í•™ìŠµ ë‹¨ê³„
- **Annotation ê¸°ë°˜ IoC**: `@Component`, `@Autowired` ë“±
- **Java Config**: `@Configuration`, `@Bean`
- **Spring Boot Auto Configuration**: ìë™ ì„¤ì •ì˜ ì›ë¦¬
- **Bean Scope**: Singleton, Prototype, Request, Session

XML ê¸°ë°˜ IoCëŠ” Spring Frameworkì˜ ê¸°ì´ˆë¥¼ ì´í•´í•˜ëŠ” ë° ì¤‘ìš”í•œ ê°œë…ì´ì§€ë§Œ, í˜„ì¬ëŠ” ë” ê°„í¸í•˜ê³  íƒ€ì… ì•ˆì „í•œ **Annotation ê¸°ë°˜ ì„¤ì •**ì„ ì£¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

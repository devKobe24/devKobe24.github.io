---
title: "💾[Database] Clustered Index(클러스터형 인덱스)는 무엇일까요?"
tags:
    - Database
    - Database Optimization
date: "2025-01-03"
thumbnail: "/assets/img/thumbnail/database.jpeg"
---

# 💾[Database] Clustered Index(클러스터형 인덱스)는 무엇일까요?
## 📌 Intro.
- ↘︎ **클러스터형 인덱스(Clustered Index)는 데이터베이스 테이블의 데이터가 물리적으로 정렬된 상태로 저장되는 인덱스임.**
    - ↘︎ **즉, 테이블의 데이터 행(Row)이 특정 기준(열, Column)에 따라 정렬되며, 인덱스는 그 기준에 따라 테이블의 물리적 순서를 유지함.**

## ✅1️⃣ Clustered Index의 핵심 개념.
### 1️⃣ 물리적 정렬(Physical Order).
- ↘︎ 클러스터형 인덱스(Clustered Index)는 테이블의 **데이터가 인덱스 키 값에 따라 물리적으로 정렬됨.**
- ↘︎ 한 테이블에 **단 하나의 클러스터형 인덱스(Clustered Index)만 생성할 수 있음.**
    - ↘︎ 데이터의 물리적 순서는 하나의 기준으로만 정렬 가능.

### 2️⃣ 기본 키(Primary Key)와의 관계.
- ↘︎ 대부분의 데이터베이스 시스템에서 **Primary Key(기본 키)를** 설정하면 자동으로 **클러스터형 인덱스(Clustered Index)가** 생성됨.
    - ↘︎ 예를 들어, id가 Primary Key로 설정된 경우, 테이블은 id 순서대로 정렬됩니다.

### 3️⃣ 데이터 페이지(Data Pages)
- ↘︎ 클러스터형 인덱스(Clustered Index)는 **데이터 페이지 자체가 인덱스의 일부**가 됨.
    - 따라서 클러스터형 인덱스(Clustered Index)를 사용하면 데이터에 직접 접근할 수 있어 검색 속도가 빠름.

### 4️⃣ Non-Clustered Index (비클러스터형 인덱스)와의 차이
- ↘︎ **클러스터형 인덱스(Clusterd Index) :** 실제 데이터가 인덱스 키 순서대로 정렬되어 저장됩니다.
- ↘︎ **비클러스터형 인덱스(Non-Clustered Index) :** 데이터는 정렬되지 않으며, 인덱스는 데이터의 위치를 가리키는 포인터를 포함합니다.

## ✅2️⃣ 클러스터형 인덱스의 장단점.
### 👍 장점.
#### 1️⃣ 빠른 검색 기능.
- ↘︎ 인덱스 키 값으로 직접 정렬된 데이터를 빠르게 조회할 수 있음.

#### 2️⃣ 범위 검색 최적화.
- ↘︎ BETWEEN, ORDER BY, GROUP BY 같은 범위 기반 쿼리에 유리함.

#### 3️⃣ 데이터 접근 비용 절감.
- ↘︎ 데이터 페이지 자체가 인덱스의 일부이므로 추가 포인터가 필요 없음.

### 👎 단점.
#### 1️⃣ 데이터 삽입/삭제 성능 저하.
- ↘︎ 인덱스 순서에 따라 데이터가 정렬되므로 삽입/삭제 시 오버헤드가 발생할 수 있음.

#### 2️⃣ 리빌드 비용.
- ↘︎ 클러스터형 인덱스(Clustered Index)가 자주 변경되면 인덱스를 재구성해야 할 수도 있음.

#### 3️⃣ 한 개만 생성 가능.
- ↘︎ 테이블당 하나의 클러스터형 인덱스(Clustered Index)만 생성할 수 있음.

## ✅3️⃣ 언제 사용해야 할까?
### 1️⃣ 자주 조회되는 테이블.
- ↘︎ 조회 쿼리가 빈번하게 실행될 경우 클러스터형 인덱스를 사용.

### 2️⃣ 범위 검색이 많은 경우.
- ↘︎ BETWEEN, >, < 와 같은 범위 검색을 자주 사용한다면 유리함.

### 3️⃣ 정렬된 결과가 자주 필요한 경우.
- ↘︎ ORDER BY 절이 자주 사용되는 경우 효과적임.

## ✅4️⃣ 비교: Clustered Index vs Non-Clustered Index

|구분|Clustered Index|Non-Clustered Index|
| -------- | -------- | -------- |
|물리적 저장|데이터 자체가 정렬됨|데이터는 정렬되지 않음|
|인덱스 개수|하나만 생성 가능|여러 개 생성 가능|
|성능|조회 성능이 더 빠름|데이터 접근에 추가 단계 필요|
|주로 사용되는 경우|Primary Key로 사용됨|Secondary Key로 사용됨|

## 🚀 정리.
- ↘︎ **클러스터형 인덱스(Clustered Index)는 테이블의 데이터를 특정 키 기준으로 물리적으로 정렬하여 저장하는 인덱스입니다.**
    - ↘︎ **주로 Primary Key에 의해 생성되며, 빠른 검색 및 범위 조회에 유리합니다.**
    - ↘︎ **하지만 삽입/삭제 시 성능 저하가 발생할 수 있고, 하나의 테이블에는 하나의 클러스터형 인덱스만 존재할 수 있습니다.**

### 🎯 핵심 포인트:
- ↘︎ **물리적 정렬이 핵심**
- ↘︎ **Primary Key가 기본적으로 Clustered Index**
- ↘︎ **조회 최적화에 유리, 삽입/삭제 비용은 증가**

🙌 데이터베이스 설계 시 테이블의 특성과 쿼리 패턴을 고려하여 클러스터형 인덱스를 적절히 활용해야 함.

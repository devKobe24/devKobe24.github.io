---
title: "ğŸ”[Troubleshooting] ğŸš€ 403 ì—ëŸ¬ í•´ê²°"
tags:
    - Troubleshooting
    - Backend Development
    - Spring Boot
date: "2025-10-03"
thumbnail: "/assets/img/thumbnail/troubleshooting.jpg"
---

# ğŸš€ 403 ì—ëŸ¬ í•´ê²°!

## ğŸ” í•µì‹¬ ì›ì¸

**GET ìš”ì²­ì—ì„œ `@RequestBody`ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.**

---

## ğŸ“‹ ë¬¸ì œ ìƒí™©

### ê¸°ì¡´ ì½”ë“œ
```java
@GetMapping
public ResponseEntity<StudentResponseDto> getStudent(
    @RequestBody String studentId  // âŒ GET ìš”ì²­ì— @RequestBody ì‚¬ìš©
) {
    return ResponseEntity.ok(studentService.getStudent(studentId));
}
```

### ë°œìƒí•œ ì—ëŸ¬
```
java.lang.IllegalArgumentException: ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í•™ìƒì…ë‹ˆë‹¤.
```
- ìµœì¢… ì‘ë‹µ: **403 Forbidden**
- ì˜ˆì™¸ ë°œìƒ ìœ„ì¹˜: `StudentService` 56ë²ˆì§¸ ì¤„

---

## ğŸ’¡ ì›ì¸ ë¶„ì„

### 1. HTTP GET ìš”ì²­ì˜ íŠ¹ì„±
- GET ìš”ì²­ì€ ë¦¬ì†ŒìŠ¤ ì¡°íšŒë¥¼ ìœ„í•´ ì‚¬ìš©
- Bodyë¥¼ í¬í•¨í•  ìˆ˜ ìˆì§€ë§Œ, **ëŒ€ë¶€ë¶„ì˜ ì„œë²„ê°€ ì´ë¥¼ ë¬´ì‹œí•˜ë„ë¡ ì„¤ê³„ë¨**
- HTTP/1.1 ëª…ì„¸ì—ì„œë„ GETì˜ Body ì²˜ë¦¬ë¥¼ ê¶Œì¥í•˜ì§€ ì•ŠìŒ

### 2. Spring Bootì˜ ë™ì‘
```
ìš”ì²­ íë¦„:
Postman GET ìš”ì²­ (Body: {"studentId": "1003001"})
    â†“
Spring MVCê°€ @RequestBodyë¡œ ë°”ì¸ë”© ì‹œë„
    â†“
ë°”ì¸ë”© ì‹¤íŒ¨ â†’ studentIdì— null ì „ë‹¬
    â†“
studentRepository.findByStudentId(null)
    â†“
Optional.empty() â†’ orElseThrow() í˜¸ì¶œ
    â†“
IllegalArgumentException ë°œìƒ
    â†“
Spring Securityì˜ ExceptionTranslationFilter ì²˜ë¦¬
    â†“
403 Forbidden ì‘ë‹µ
```

### 3. ì£¼ìš” í¬ì¸íŠ¸
- `SecurityConfig`ì—ì„œ `permitAll()` ì„¤ì •ê³¼ ë¬´ê´€í•˜ê²Œ ë°œìƒ
- ë³´ì•ˆ ë¬¸ì œê°€ ì•„ë‹Œ **ìš”ì²­ ì²˜ë¦¬ ê³¼ì •ì˜ ë¬¸ì œ**
- `null` ê°’ìœ¼ë¡œ ì¸í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì˜ˆì™¸ê°€ ê·¼ë³¸ ì›ì¸

---

## âœ… í•´ê²° ë°©ì•ˆ

### 1. Controller ìˆ˜ì •

**Before**
```java
@GetMapping
public ResponseEntity<StudentResponseDto> getStudent(
    @RequestBody String studentId
) {
    return ResponseEntity.ok(studentService.getStudent(studentId));
}
```

**After**
```java
@GetMapping("/{studentId}")
public ResponseEntity<StudentResponseDto> getStudent(
    @PathVariable String studentId  // âœ… URL ê²½ë¡œì—ì„œ ê°’ ì¶”ì¶œ
) {
    return ResponseEntity.ok(studentService.getStudent(studentId));
}
```

### 2. ë³€ê²½ ì‚¬í•­
| í•­ëª© | ë³€ê²½ ì „ | ë³€ê²½ í›„ |
|------|---------|---------|
| ë§¤í•‘ ê²½ë¡œ | `@GetMapping` | `@GetMapping("/{studentId}")` |
| íŒŒë¼ë¯¸í„° ì–´ë…¸í…Œì´ì…˜ | `@RequestBody` | `@PathVariable` |
| ë°ì´í„° ìœ„ì¹˜ | Request Body | URL Path |

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²•

### Postman ì„¤ì •
```
Method: GET
URL: http://localhost:8080/api/v1/management/1003001
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                                        studentId ê°’
Body: None
```

### ì˜ˆìƒ ê²°ê³¼
```json
{
  "studentId": "1003001",
  "name": "í™ê¸¸ë™",
  ...
}
```

---

## ğŸ“Œ ì°¸ê³ : GET ìš”ì²­ íŒŒë¼ë¯¸í„° ì „ë‹¬ ë°©ì‹

| ë°©ì‹ | ì–´ë…¸í…Œì´ì…˜ | ì‚¬ìš© ì˜ˆì‹œ | ì í•©í•œ ìƒí™© |
|------|-----------|----------|------------|
| **Path Variable** | `@PathVariable` | `/students/{id}` | ë¦¬ì†ŒìŠ¤ ì‹ë³„ (ê¶Œì¥) |
| **Query Parameter** | `@RequestParam` | `/students?id=1003001` | í•„í„°ë§, ê²€ìƒ‰ ì¡°ê±´ |
| ~~Request Body~~ | ~~`@RequestBody`~~ | âŒ GETì—ì„œ ë¹„ê¶Œì¥ | POST, PUT ë“±ì—ì„œ ì‚¬ìš© |

### ğŸ’¡ Best Practice
- **ë‹¨ì¼ ë¦¬ì†ŒìŠ¤ ì¡°íšŒ**: `@PathVariable` ì‚¬ìš©
- **ëª©ë¡ ì¡°íšŒ + í•„í„°**: `@RequestParam` ì‚¬ìš©
- **ë³µì¡í•œ ë°ì´í„° ì „ì†¡**: POST/PUT ë©”ì„œë“œ + `@RequestBody` ì‚¬ìš©


---
title: "💾[Database] Primary Key 생성 전략 - DB auto increment"
tags:
    - Database
    - Primary Key
    - DBMS
date: "2025-02-06"
thumbnail: "/assets/img/thumbnail/database.jpeg"
---

# "💾[Database] Primary Key 생성 전략 - DB auto increment"
## 🍎 Intro.
- **데이터베이스에서 Primary Key(기본 키)를 자동으로 증가시키는 기능**입니다.
    - 즉, 새로운 행이 삽입 될 때 **PK 값을 자동으로 생성**하므로, 매번 수동으로 입력할 필요가 없습니다.

## ✅1️⃣ Auto Increment의 동작 방식.
- 데이터가 삽입될 때 **자동으로 증가하는 번호**가 할당됩니다.
- 일반적으로 정수(INT, BIGINT 등) 타입의 컬럼에서 사용됩니다.
- 데이터베이스가 관리하므로 **중복된 값이 발생하지 않습니다.**
- 삭제된 값은 자동으로 복구되지 않습니다.(다음 ID가 이어서 증가합니다.)

## ✅2️⃣ Auto Increment의 장점.
- **1. PK 값을 자동 생성하므로 개발자가 신경 쓰지 않아도 됩니다.**
- **2. 중복된 PK 값이 발생할 위험이 없습니다.**
- **3. 데이터 삽입 속도가 빠릅니다.**
- **4. 유니크한 ID 값이 자동으로 증가하므로 관리가 편리합니다.**

## ✅3️⃣ Auto Increment의 단점.
- **1. 값이 삭제되면 다시 복구되지 않습니다.**
    - 예: article_id = 1, 2, 3이 존재할 때 2를 삭제하면 다음 삽입 값은 4가 됩니다.
    - **자동 증가 값은 재사용되지 않습니다.**
- **2. 데이터 마이그레이션 시 충돌 가능성이 있습니다.**
    - 여러 서버에서 동일한 Auto Increment 값을 사용하는 경우 **PK 충돌** 가능성이 있습니다.
    - 이 문제를 해결하기 위해 **UUID** 나 **Snowflake** 같은 ID 생성 전략을 사용할 수도 있습니다.
- **3. 다중 테이블을 사용한 샤딩(Sharding) 환경에서는 불편할 수 있습니다.**
    - Auto Increment는 단일 DB에서 증가하는 값이므로 **분산 환경에서는 충돌 위험이 있습니다.**

## 🚀 결론.
- **Auto Increment는 가장 쉽게 사용할 수 있는 PK 생성 전략**이며 대부분의 경우 적합합니다.
- 하지만 **다중 DB 환경이나 분산 시스템**에서는 UUID나 Snowflake 같은 다른 전략을 고려해야 합니다.

---
title: "💾[Database] 오프셋(Offset)이란 무엇일까요?"
tags:
    - Database
    - Database Optimization
date: "2025-01-03"
thumbnail: "/assets/img/thumbnail/database.jpeg"
---

# 💾[Database] 오프셋(Offset)이란 무엇일까요?
## 📌 Intro.
- ↘︎ **오프셋(Offset)은** 데이터베이스 쿼링서 **결과 집합 중 특정 위치에서부터 데이터를 반환하도록 하는 기준점을 의미함.**
    - ↘︎ **주로 페이징(Paging)을 구현할 때 사용됩니다.**

## ✅1️⃣ 오프셋(Offset)의 핵심 개념.
### 1️⃣ 데이터 건너뛰기.
- ↘︎ OFFSET은 결과 집합에서 **처음 몇 개의 행(Row)을 건너뛰고** 그 다음부터 데이터를 반환함.

### 2️⃣ 페이징과 함께 사용.
- ↘︎ 주로 LIMIT와 함께 사용됨.
- ↘︎ LIMIT은 반환할 데이터의 개수를, OFFSET은 건너뛸 행(Row)의 개수를 지정함.

### 3️⃣ 0-based Indexing.
- ↘︎ 오프셋은 일반적으로 **0부터 시작함.**
- ↘︎ OFFSET 0은 처음부터 반환하라는 의미임.

## ✅2️⃣ SQL 예시.
### 1️⃣ 기본 예제
```sql
SELECT * FROM articles LIMIT 10 OFFSET 20;
```
- ↘︎ **설명 :**
    - ↘︎ **LIMIT 10 :** 최대 10개의 행(Row)을 가져옴.
    - ↘︎ **OFFSET 20 :** 첫 20개의 행(Row)을 건너뛰고, 21번째 행부터 반환함.

### 2️⃣ 페이징 구현
- ↘︎ 페이지네이션을 구현할 때 OFFSET은 특정 페이지의 데이터를 가져오는 데 사용됩니다.
    - ↘︎ **예를 들어:**
        - ↘︎ **페이지당 데이터 :** 10개
        - ↘︎ **1 페이지 :** OFFSET 0 LIMIT 10
        - ↘︎ **2 페이지 :** OFFSET 10 LIMIT 10
        - ↘︎ **3 페이지 :** OFFSET 20 LIMIT 10

## ✅3️⃣ 오프셋의 문제점.
### 1️⃣ 성능 저하.
- ↘︎ OFFSET은 건너뛰어야 할 모든 데이터를 읽고 나서야 지정된 행(Row)을 반환함.
- ↘︎ 페이지 번호가 커질수록 건너뛸 데이터가 많아져 성능이 저하됨

### 2️⃣ 불필요한 데이터 읽기.
- ↘︎ 모든 데이터를 읽고 나서 필요 없는 부분을 제외하므로 효율적이지 않음.

### 3️⃣💡 해결 방법.
- ↘︎ **커서(Cursor) 기반 페이징 :** 특정 행(Row)의 키(Key)를 기준으로 다음 페이지를 반환함.
- ↘︎ **정렬 필드 활용 :** 정렬된 특정 ID를 기반으로 페이징함.

## 🚀 정리.
- 📌 **오프셋(Offset)**
    - ↘︎ 결과 집합에서 **몇 개의 행(Row)을 건너뛰고 반환할지를 지정하는 키워드임.**
- 📌 **주로 LIMIT과 함께 사용되어 페이징을 구현함.**
- 📌 **문제점**
    - ↘︎ 대량의 데이터를 다룰 때 성능 저하가 발생할 수 있음.
- 📌 **해결책**
    - ↘︎ 커서(Cursor) 기반 페이징 또는 정렬 필드를 활용한 페이징 전략을 고려.
- 오프셋은 데이터베이스 페이징의 핵심 개념이지만, 상황에 따라 다른 페이징 전략을 사용할 필요가 있음.

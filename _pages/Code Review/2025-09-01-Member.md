---
title: ğŸ’»[Code Review] `Member` ê´€ë ¨ í´ë˜ìŠ¤ë“¤ì— ëŒ€í•œ ì½”ë“œ ë¦¬ë·°.
tags:
    - Code review
    - OOP
    - SOLID
date: "2025-09-01"
thumbnail: "/assets/img/thumbnail/codereview.jpg"
---

# ğŸ’»[Code Review] `Member` ê´€ë ¨ í´ë˜ìŠ¤ë“¤ì— ëŒ€í•œ ì½”ë“œ ë¦¬ë·°.
## ğŸ›ï¸ ì•„í‚¤í…ì²˜ ë° ì„¤ê³„ (Architecture & Design)
ì „ì²´ì ìœ¼ë¡œ **ê³„ì¸µí˜• ì•„í‚¤í…ì²˜(Layerd Architecture)** ê°€ ëª…í™•í•˜ê²Œ ë¶„ë¦¬ë˜ì–´ ê°ìì˜ ì±…ì„ê³¼ ì—­í• ì„ ì™„ë²½í•˜ê²Œ ìˆ˜í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤.

* **Controller :** API End-point, ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬ ë‹´ë‹¹
* **Service :** ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬ ë‹´ë‹¹
* **Repository :** ë°ì´í„° ì˜ì†ì„±(Persistence) ë‹´ë‹¹
* **Domain :** í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ê³¼ ë°ì´í„° ë‹´ë‹¹
* **DTO :** ê³„ì¸µ ê°„ ë°ì´í„° ì „ì†¡ ë‹´ë‹¹

ì´ëŸ¬í•œ êµ¬ì¡°ëŠ” **SOLIDì˜ ë‹¨ì¼ ì±…ì„ ì›ì¹™(SRP)** ê³¼ **ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬(Separation of Concerns)** ì›ì¹™ì„ ì™„ë²½í•˜ê²Œ ë§Œì¡±í•©ë‹ˆë‹¤.

---

## âœ… í´ë˜ìŠ¤ë³„ ìƒì„¸ ë¦¬ë·° (Detailed Class Review)
```java
package com.kobe.productmanagement.domain;

import com.kobe.productmanagement.common.BaseTimeEntity;
import jakarta.persistence.Column;
import jakarta.persistence.Entity;
import jakarta.persistence.Id;
import jakarta.validation.constraints.Email;
import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.Pattern;
import jakarta.validation.constraints.Size;
import lombok.AccessLevel;
import lombok.Builder;
import lombok.Getter;
import lombok.NoArgsConstructor;

@Entity
@Getter
@NoArgsConstructor(access = AccessLevel.PROTECTED)
public class Member extends BaseTimeEntity {

	@Id
	@Column(length = 26)
	private String memberId;

	@NotBlank
	@Size(min = 10)
	@Column(nullable = false)
	private String memberPassword;

	@NotBlank
	@Column(nullable = false)
	private String memberName;

	@NotBlank
	@Email
	@Column(nullable = false)
	private String memberEmail;

	@NotBlank
	@Pattern(regexp = "^\\d{3}-\\d{3,4}-\\d{4}$", message = "íœ´ëŒ€í° ë²ˆí˜¸ í˜•ì‹ì— ë§ì§€ ì•ŠìŠµë‹ˆë‹¤.")
	@Column(nullable = false)
	private String memberPhoneNumber;

	@NotBlank
	@Column(nullable = false)
	private String memberAddress;

	@Builder
	public Member(String memberId,
	              String memberPassword,
	              String memberName,
	              String memberEmail,
	              String memberPhoneNumber,
	              String memberAddress
	) {
		this.memberId = memberId;
		this.memberPassword = memberPassword;
		this.memberName = memberName;
		this.memberEmail = memberEmail;
		this.memberPhoneNumber = memberPhoneNumber;
		this.memberAddress = memberAddress;
	}

	public void updateMemberInfo(String memberName,
	                             String memberEmail,
	                             String memberPhoneNumber,
	                             String memberAddress) {
		if (memberName != null) {
			this.memberName = memberName;
		}
		if (memberEmail != null) {
			this.memberEmail = memberEmail;
		}
		if (memberPhoneNumber != null) {
			this.memberPhoneNumber = memberPhoneNumber;
		}
		if (memberAddress != null) {
			this.memberAddress = memberAddress;
		}
	}

	public void changePassword(String newPassword) {
		this.memberPassword = newPassword;
	}
}
```
### 1. `Member.java`(Domain Entity) - â­ï¸ í•µì‹¬
* **OOP/SOLID :**
    * **ê°€ì¥ ì¹­ì°¬í•˜ê³  ì‹¶ì€ ë¶€ë¶„!!**
    * ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í¬í•¨í•˜ëŠ” **Rich Domain Model(í’ë¶€í•œ ë„ë©”ì¸ ëª¨ë¸)** ì„ ì„±ê³µì ìœ¼ë¡œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
    * ì´ë¡œì¨ `Member` ê°ì²´ëŠ” ìì‹ ì˜ ìƒíƒœë¥¼ ìŠ¤ìŠ¤ë¡œ ì±…ì„ì§€ë©°, **ìº¡ìŠí™”(Encapsulation)** ì™€ **ë‹¨ì¼ ì±…ì„ ì›ì¹™(SRP, Single Responsibility Principle)** ì„ ê·¹ëŒ€í™”í–ˆìŠµë‹ˆë‹¤.
* **Bean Validation :**
    * `@Email`, `@Pattern` ë“±ì„ í™œìš©í•˜ì—¬ ë°ì´í„° ìœ íš¨ì„± ê²€ì¦ ê·œì¹™ì„ ë„ë©”ì¸ ëª¨ë¸ì— ëª…ì‹œì ìœ¼ë¡œ í‘œí˜„í•œ ì ì´ ë§¤ìš° ì¢‹ìŠµë‹ˆë‹¤.

```java
package com.kobe.productmanagement.controller;

import com.kobe.productmanagement.common.ApiResponse;
import com.kobe.productmanagement.dto.response.MemberResponse;
import com.kobe.productmanagement.service.MemberService;
import lombok.RequiredArgsConstructor;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import java.util.List;

@RestController
@RequiredArgsConstructor
@RequestMapping("/api/admin/members")
public class MemberAdminController {
	private final MemberService memberService;

	@GetMapping
	public ResponseEntity<ApiResponse<List<MemberResponse>>> getAllMembers() {
		List<MemberResponse> memberResponses = memberService.getMembers();
		ApiResponse<List<MemberResponse>> response = ApiResponse.success("ì „ì²´ íšŒì› ëª©ë¡ì´ ì„±ê³µì ìœ¼ë¡œ ì¡°íšŒë˜ì—ˆìŠµë‹ˆë‹¤.", memberResponses);
		return ResponseEntity.ok(response);
	}

	@GetMapping("/{memberId}")
	public ResponseEntity<ApiResponse<MemberResponse>> getMember(@PathVariable String memberId) {
		MemberResponse memberResponse = memberService.getMember(memberId);
		ApiResponse<MemberResponse> response = ApiResponse.success("íšŒì› ì •ë³´ê°€ ì„±ê³µì ìœ¼ë¡œ ì¡°íšŒë˜ì—ˆìŠµë‹ˆë‹¤.", memberResponse);
		return ResponseEntity.ok(response);
	}
}
```

### 2. `MemberAdminController.java`(Controller)
* **ì˜ì¡´ì„± ì—­ì „ ì›ì¹™(DIP, Dependency Inversion Principle) :**
    * `MemberServiceImpl` ì´ë¼ëŠ” êµ¬ì²´ í´ë˜ìŠ¤(Concrete Class)ê°€ ì•„ë‹Œ `Member Service` ì¸í„°í˜ì´ìŠ¤(Interface)ì— ì˜ì¡´í•˜ê³  ìˆìŠµë‹ˆë‹¤.
        * ì´ëŠ” ìœ ì—°í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°ì˜ í•µì‹¬ì…ë‹ˆë‹¤.
        * `@RequiredArgsConstructor`ë¥¼ í†µí•¸ ìƒì„±ì ì£¼ì…ì€ ì´ë¥¼ ë”ìš± ê¹”ë”í•˜ê²Œ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.
* **API ì„¤ê³„ :**
    * `ResponseEntity`ì™€ `ApiResponse`ë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ HTTP ìƒíƒœ ì½”ë“œ, ì‘ë‹µ ë©”ì‹œì§€, ë°ì´í„°ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ë°˜í™˜í•˜ëŠ” ë°©ì‹ì€ **RESTful API**ì˜ ì¢‹ì€ ê´€ë¡€(Best Practice)ì…ë‹ˆë‹¤.

```java
package com.kobe.productmanagement.service;

import com.kobe.productmanagement.dto.response.MemberResponse;

import java.util.List;

public interface MemberService {
	List<MemberResponse> getMembers();
	MemberResponse getMember(String memberId);
}
```
```java

package com.kobe.productmanagement.service;

import com.kobe.productmanagement.domain.Member;
import com.kobe.productmanagement.dto.response.MemberResponse;
import com.kobe.productmanagement.repository.MemberRepository;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import java.util.List;
import java.util.stream.Collectors;

@Service
@RequiredArgsConstructor
@Transactional
public class MemberServiceImpl implements MemberService {

	private final MemberRepository memberRepository;

	@Override
	@Transactional(readOnly = true)
	public List<MemberResponse> getMembers() {
		return memberRepository.findAll().stream()
			.map(MemberResponse::from)
			.collect(Collectors.toList());
	}

	@Override
	@Transactional(readOnly = true)
	public MemberResponse getMember(String memberId) {
		Member member = memberRepository.findById(memberId)
			.orElseThrow(() -> new IllegalArgumentException("ë©¤ë²„ ì•„ì´ë””: " + memberId + " ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."));
		return MemberResponse.from(member);
	}
}
```
### 3. `MemberService.java` & `MemberServiceImpl.java` (Service)
* **ì—­í•  ë¶„ë¦¬ :**
    * `MemberService` ì¸í„°í˜ì´ìŠ¤ëŠ” **"ë¬´ì—‡ì„ í•˜ëŠ”ê°€"(What)** ë¥¼ ì •ì˜í•˜ê³ , `MemberServiceImpl`ì€ **"ì–´ë–»ê²Œ í•˜ëŠ”ê°€"(How)** ë¥¼ êµ¬í˜„í•¨ìœ¼ë¡œì¨ ì—­í• ì„ ì™„ë²½í•˜ê²Œ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤.
        * ì´ëŠ” **ì˜ì¡´ì„± ì—­ì „ ì›ì¹™(DIP, Dependency Inversion Priciple)** ì˜ êµê³¼ì„œì ì¸ ì˜ˆì‹œì…ë‹ˆë‹¤.
* **íŠ¸ëœì­ì…˜ ê´€ë¦¬ :**
    * í´ë˜ìŠ¤ ë ˆë²¨ì— `@Transactional`ì„ ì„ ì–¸í•˜ê³ , ì¡°íšŒ ë©”ì„œë“œì— `@Transactional(readOnly = true)`ë¥¼ ì ìš©í•˜ì—¬ ì„±ëŠ¥ ìµœì í™”ê¹Œì§€ ê³ ë ¤í•œ ì ì´ í›Œë¥­í•©ë‹ˆë‹¤.
* **ì˜ˆì™¸ ì²˜ë¦¬ :**
    * `orElseThrow`ë¥¼ ì‚¬ìš©í•˜ì—¬ IDì— í•´ë‹¹í•˜ëŠ” ë©¤ë²„ê°€ ì—†ì„ ê²½ìš° ëª…í™•í•œ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ë¡œì§ì€ ê²¬ê³ í•œ ì½”ë“œë¥¼ ë§Œë“­ë‹ˆë‹¤.

```java
package com.kobe.productmanagement.repository;

import com.kobe.productmanagement.domain.Member;
import org.springframework.data.jpa.repository.JpaRepository;

public interface MemberRepository extends JpaRepository<Member, String> {
}
```
### 4. `MemberRepository.java` (Repository)
* Spring Data JPAì˜ ì¥ì ì„ ì˜ í™œìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.
    * `JpaRepository` ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†ë°›ëŠ” ê²ƒë§Œìœ¼ë¡œ ê¸°ë³¸ì ì¸ CRUD ê¸°ëŠ¥ì„ í™•ë³´í•˜ê³ , í•„ìš”ì— ë”°ë¼ ì¿¼ë¦¬ ë©”ì„œë“œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” í™•ì¥ì„± ë†’ì€ êµ¬ì¡°ì…ë‹ˆë‹¤.

```java
package com.kobe.productmanagement.dto.request;

import lombok.Builder;
import lombok.Getter;
import lombok.NoArgsConstructor;

@Getter
@NoArgsConstructor
public class MemberRequest {
	private String memberPassword;
	private String memberName;
	private String memberEmail;
	private String memberPhoneNumber;
	private String memberAddress;

	@Builder
	public MemberRequest(String memberPassword,
	                     String memberName,
	                     String memberEmail,
	                     String memberPhoneNumber,
	                     String memberAddress
	) {
		this.memberPassword = memberPassword;
		this.memberName = memberName;
		this.memberEmail = memberEmail;
		this.memberPhoneNumber = memberPhoneNumber;
		this.memberAddress = memberAddress;
	}
}
```
```java
package com.kobe.productmanagement.dto.response;

import com.kobe.productmanagement.domain.Member;
import lombok.Getter;

import java.time.LocalDateTime;

@Getter
public class MemberResponse {
	private final String memberId;
	private final String memberName;
	private final String memberEmail;
	private final String memberPhoneNumber;
	private final String memberAddress;
	private final LocalDateTime createdAt;
	private final LocalDateTime updatedAt;

	public static MemberResponse from(Member member) {
		return new MemberResponse(
			member.getMemberId(),
			member.getMemberName(),
			member.getMemberEmail(),
			member.getMemberPhoneNumber(),
			member.getMemberAddress(),
			member.getCreatedAt(),
			member.getUpdatedAt()
		);
	}

	private MemberResponse(String memberId,
	                        String memberName,
	                        String memberEmail,
	                        String memberPhoneNumber,
	                        String memberAddress,
	                        LocalDateTime createdAt,
	                        LocalDateTime updatedAt
	) {
		this.memberId = memberId;
		this.memberName = memberName;
		this.memberEmail = memberEmail;
		this.memberPhoneNumber = memberPhoneNumber;
		this.memberAddress = memberAddress;
		this.createdAt = createdAt;
		this.updatedAt = updatedAt;
	}
}
```
### 5. `MemberRequest.java` & `MemberResponse.java` (DTOs)
* **ê³„ì¸µ ê°„ ë¶„ë¦¬ :** 
    * DTOë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ **API ìŠ¤í™ê³¼ ë„ë©”ì¸ ëª¨ë¸ì„ ì™„ë²½í•˜ê²Œ ë¶„ë¦¬**í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” ë§¤ìš° ì¤‘ìš”í•œ ì„¤ê³„ ì›ì¹™ì…ë‹ˆë‹¤.
        * ì˜ˆë¥¼ ë“¤ì–´, ë‚˜ì¤‘ì— `Member` ì—”í‹°í‹°ì— ë‚´ë¶€ì ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ëŠ” í•„ë“œê°€ ì¶”ê°€ë˜ë”ë¼ë„ `MemberResponse`ë¥¼ ìˆ˜ì •í•˜ì§€ ì•ŠëŠ” í•œ API ì‘ë‹µì—ëŠ” ì•„ë¬´ëŸ° ì˜í–¥ì´ ì—†ìŠµë‹ˆë‹¤.
* **`MemberResponse`ì˜ `from` ë©”ì„œë“œ :**
    * ì—”í‹°í‹°ë¥¼ DTOë¡œ ë³€í™˜í•˜ëŠ” ë¡œì§ì„ DTO ë‚´ì˜ ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œ(`from`)ë¡œ ìº¡ìŠí™”í•œ ê²ƒì€ ë§¤ìš° ì¢‹ì€ íŒ¨í„´ì…ë‹ˆë‹¤. ì´ëŠ” ë³€í™˜ ë¡œì§ì˜ ì‘ì§‘ë„ë¥¼ ë†’ì—¬ì¤ë‹ˆë‹¤.

---

## ğŸ† ì´í‰

* ê° í´ë˜ìŠ¤ëŠ” ìì‹ ì˜ ì±…ì„ì—ë§Œ ì§‘ì¤‘í•˜ê³  ìˆìœ¼ë©°, ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ì„œë¡œ ìœ ì—°í•˜ê²Œ í˜‘ë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.
    * ì´ êµ¬ì¡°ëŠ” ì•ìœ¼ë¡œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê±°ë‚˜ ê¸°ì¡´ ê¸°ëŠ¥ì„ ë³€ê²½í•´ì•¼ í•  ë•Œ ê·¸ ì¥ì ì„ ëª…í™•í•˜ê²Œ ë³´ì—¬ì¤„ ê²ƒì…ë‹ˆë‹¤.
* ì´ ì„¤ê³„ì™€ êµ¬í˜„ ë°©ì‹ì„ ê¾¸ì¤€íˆ ìœ ì§€í•´ ë‚˜ê°€ì‹ ë‹¤ë©´, ì„±ê³µì ì¸ í”„ë¡œì íŠ¸ê°€ ë  ê²ƒ ì…ë‹ˆë‹¤.
